2025-10-26 08:21:21,459 - mcp.server.lowlevel.server - DEBUG - Initializing server 'CRM Server'
2025-10-26 08:21:21,459 - mcp.server.lowlevel.server - DEBUG - Registering handler for ListToolsRequest
2025-10-26 08:21:21,460 - mcp.server.lowlevel.server - DEBUG - Registering handler for ListResourcesRequest
2025-10-26 08:21:21,460 - mcp.server.lowlevel.server - DEBUG - Registering handler for ListResourceTemplatesRequest
2025-10-26 08:21:21,460 - mcp.server.lowlevel.server - DEBUG - Registering handler for PromptListRequest
2025-10-26 08:21:21,460 - mcp.server.lowlevel.server - DEBUG - Registering handler for CallToolRequest
2025-10-26 08:21:21,460 - mcp.server.lowlevel.server - DEBUG - Registering handler for ReadResourceRequest
2025-10-26 08:21:21,461 - mcp.server.lowlevel.server - DEBUG - Registering handler for GetPromptRequest
2025-10-26 08:21:21,526 - mcp.server.streamable_http_manager - INFO - StreamableHTTP session manager started
2025-10-26 08:21:47,847 - mcp.server.streamable_http_manager - DEBUG - Creating new transport
2025-10-26 08:21:47,848 - mcp.server.streamable_http_manager - INFO - Created new transport with session ID: 539d557d3d774e25b6a21a6c98bf5691
2025-10-26 08:21:47,857 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 08:21:47,857 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":0,"result":{"protocolVersion":"2025-03-26","capabilities":{"experimental":{},"prompts":{"listChanged":true},"resources":{"subscribe":false,"listChanged":true},"tools":{"listChanged":true}},"serverInfo":{"name":"CRM Server","version":"1.16.0"}}}\r\n\r\n'
2025-10-26 08:21:47,858 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:21:48,429 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:21:48,430 - mcp.server.lowlevel.server - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-10-26 08:21:48,787 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:21:48,997 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:21:48,998 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x7578f4486720>
2025-10-26 08:21:48,999 - mcp.server.lowlevel.server - INFO - Processing request of type ListToolsRequest
2025-10-26 08:21:48,999 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type ListToolsRequest
2025-10-26 08:21:49,000 - mcp.server.lowlevel.server - DEBUG - Response sent
2025-10-26 08:21:49,000 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 08:21:49,000 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":1,"result":{"tools":[{"name":"verify_client","description":"Verifica si un cliente existe en el CRM.\\nBusca por tel\xc3\xa9fono, correo o usuario. Al menos uno debe proporcionarse.\\n\\nArgs:\\n    telefono: N\xc3\xbamero de tel\xc3\xa9fono con c\xc3\xb3digo de pa\xc3\xads (ej: +5491123456789)\\n    correo: Correo electr\xc3\xb3nico del cliente\\n    usuario: Usuario o agente asignado","inputSchema":{"properties":{"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}},{"name":"create_client","description":"Crea un nuevo cliente (lead) en el CRM con ID autogenerado.\\n\\nArgs:\\n    nombre: Nombre completo del cliente (REQUERIDO)\\n    canal: Canal de origen - debe ser \'whatsapp\' o \'web\' (REQUERIDO)\\n    telefono: N\xc3\xbamero de tel\xc3\xa9fono con c\xc3\xb3digo de pa\xc3\xads\\n    correo: Correo electr\xc3\xb3nico del cliente\\n    nota: Observaciones iniciales sobre el lead\\n    usuario: Usuario o agente que registra el lead","inputSchema":{"properties":{"nombre":{"type":"string"},"canal":{"type":"string"},"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"nota":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"required":["nombre","canal"],"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}},{"name":"update_client","description":"Actualiza los datos de un cliente existente.\\nSolo actualiza los campos proporcionados.\\n\\nArgs:\\n    client_id: ID \xc3\xbanico del cliente (obtenido de verify_client) - REQUERIDO\\n    nombre: Actualizar nombre del cliente\\n    telefono: Actualizar n\xc3\xbamero de tel\xc3\xa9fono\\n    correo: Actualizar correo electr\xc3\xb3nico\\n    tipo: Tipo de cliente (Lead o Cliente)\\n    estado: Estado del lead (Nuevo, Contactado, Calificado, Negociaci\xc3\xb3n, Ganado, Perdido)\\n    nota: Notas de seguimiento o actualizaci\xc3\xb3n\\n    usuario: Reasignar a otro usuario o agente\\n    fecha_conversion: Fecha de conversi\xc3\xb3n a cliente (formato: YYYY-MM-DD HH:MM:SS)","inputSchema":{"properties":{"client_id":{"type":"string"},"nombre":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"tipo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"estado":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"nota":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"fecha_conversion":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"required":["client_id"],"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}}]}}\r\n\r\n'
2025-10-26 08:21:49,001 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:21:50,642 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:21:50,643 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x7578f44a2c00>
2025-10-26 08:21:50,644 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
2025-10-26 08:21:50,644 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type CallToolRequest
2025-10-26 08:21:50,649 - server_module - INFO - ================================================================================
2025-10-26 08:21:50,649 - server_module - INFO - üîç LLAMADA A verify_client
2025-10-26 08:21:50,649 - server_module - INFO -    telefono: +573146964611
2025-10-26 08:21:50,650 - server_module - INFO -    correo: None
2025-10-26 08:21:50,650 - server_module - INFO -    usuario: None
2025-10-26 08:21:50,650 - server_module - INFO - ================================================================================
2025-10-26 08:21:50,654 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-10-26 08:21:51,127 - urllib3.connectionpool - DEBUG - https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-10-26 08:21:51,129 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): sheets.googleapis.com:443
2025-10-26 08:21:52,167 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E?includeGridData=false HTTP/1.1" 200 None
2025-10-26 08:21:52,501 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E?includeGridData=false HTTP/1.1" 200 None
2025-10-26 08:21:52,986 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27 HTTP/1.1" 200 None
2025-10-26 08:21:52,987 - server_module - INFO - üì§ RESPUESTA verify_client: {'exists': False, 'client_id': None, 'nombre': None, 'telefono': None, 'correo': None, 'tipo': None, 'estado': None, 'canal': None, 'nota': None, 'usuario': None, 'matched_by': None}
2025-10-26 08:21:52,990 - mcp.server.lowlevel.server - DEBUG - Response sent
2025-10-26 08:21:52,991 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 08:21:52,991 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":2,"result":{"content":[{"type":"text","text":"{\\"exists\\":false,\\"client_id\\":null,\\"nombre\\":null,\\"telefono\\":null,\\"correo\\":null,\\"tipo\\":null,\\"estado\\":null,\\"canal\\":null,\\"nota\\":null,\\"usuario\\":null,\\"matched_by\\":null}"}],"structuredContent":{"exists":false,"client_id":null,"nombre":null,"telefono":null,"correo":null,"tipo":null,"estado":null,"canal":null,"nota":null,"usuario":null,"matched_by":null},"isError":false}}\r\n\r\n'
2025-10-26 08:21:52,992 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:21:54,300 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:21:54,301 - mcp.server.streamable_http - DEBUG - Closing standalone SSE writer
2025-10-26 08:23:34,692 - mcp.server.streamable_http_manager - DEBUG - Creating new transport
2025-10-26 08:23:34,693 - mcp.server.streamable_http_manager - INFO - Created new transport with session ID: c24d9d1544ec43ceb68a7092ccf52707
2025-10-26 08:23:34,697 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 08:23:34,698 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":0,"result":{"protocolVersion":"2025-03-26","capabilities":{"experimental":{},"prompts":{"listChanged":true},"resources":{"subscribe":false,"listChanged":true},"tools":{"listChanged":true}},"serverInfo":{"name":"CRM Server","version":"1.16.0"}}}\r\n\r\n'
2025-10-26 08:23:34,698 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:23:35,389 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:23:35,392 - mcp.server.lowlevel.server - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-10-26 08:23:35,730 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:23:35,949 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:23:35,951 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x7578f44a0bc0>
2025-10-26 08:23:35,951 - mcp.server.lowlevel.server - INFO - Processing request of type ListToolsRequest
2025-10-26 08:23:35,951 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type ListToolsRequest
2025-10-26 08:23:35,952 - mcp.server.lowlevel.server - DEBUG - Response sent
2025-10-26 08:23:35,952 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 08:23:35,953 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":1,"result":{"tools":[{"name":"verify_client","description":"Verifica si un cliente existe en el CRM.\\nBusca por tel\xc3\xa9fono, correo o usuario. Al menos uno debe proporcionarse.\\n\\nArgs:\\n    telefono: N\xc3\xbamero de tel\xc3\xa9fono con c\xc3\xb3digo de pa\xc3\xads (ej: +5491123456789)\\n    correo: Correo electr\xc3\xb3nico del cliente\\n    usuario: Usuario o agente asignado","inputSchema":{"properties":{"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}},{"name":"create_client","description":"Crea un nuevo cliente (lead) en el CRM con ID autogenerado.\\n\\nArgs:\\n    nombre: Nombre completo del cliente (REQUERIDO)\\n    canal: Canal de origen - debe ser \'whatsapp\' o \'web\' (REQUERIDO)\\n    telefono: N\xc3\xbamero de tel\xc3\xa9fono con c\xc3\xb3digo de pa\xc3\xads\\n    correo: Correo electr\xc3\xb3nico del cliente\\n    nota: Observaciones iniciales sobre el lead\\n    usuario: Usuario o agente que registra el lead","inputSchema":{"properties":{"nombre":{"type":"string"},"canal":{"type":"string"},"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"nota":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"required":["nombre","canal"],"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}},{"name":"update_client","description":"Actualiza los datos de un cliente existente.\\nSolo actualiza los campos proporcionados.\\n\\nArgs:\\n    client_id: ID \xc3\xbanico del cliente (obtenido de verify_client) - REQUERIDO\\n    nombre: Actualizar nombre del cliente\\n    telefono: Actualizar n\xc3\xbamero de tel\xc3\xa9fono\\n    correo: Actualizar correo electr\xc3\xb3nico\\n    tipo: Tipo de cliente (Lead o Cliente)\\n    estado: Estado del lead (Nuevo, Contactado, Calificado, Negociaci\xc3\xb3n, Ganado, Perdido)\\n    nota: Notas de seguimiento o actualizaci\xc3\xb3n\\n    usuario: Reasignar a otro usuario o agente\\n    fecha_conversion: Fecha de conversi\xc3\xb3n a cliente (formato: YYYY-MM-DD HH:MM:SS)","inputSchema":{"properties":{"client_id":{"type":"string"},"nombre":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"tipo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"estado":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"nota":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"fecha_conversion":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"required":["client_id"],"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}}]}}\r\n\r\n'
2025-10-26 08:23:35,953 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:23:39,964 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:23:39,965 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:23:39,968 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x7578f44da9f0>
2025-10-26 08:23:39,970 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
2025-10-26 08:23:39,970 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type CallToolRequest
2025-10-26 08:23:39,996 - server_module - INFO - ================================================================================
2025-10-26 08:23:39,997 - server_module - INFO - üîÑ LLAMADA A update_client
2025-10-26 08:23:39,997 - server_module - INFO -    client_id: tEbHFy
2025-10-26 08:23:39,997 - server_module - INFO -    nombre: Fernando
2025-10-26 08:23:39,997 - server_module - INFO -    telefono: None
2025-10-26 08:23:39,997 - server_module - INFO -    correo: None
2025-10-26 08:23:39,997 - server_module - INFO -    tipo: None
2025-10-26 08:23:39,997 - server_module - INFO -    estado: None
2025-10-26 08:23:39,997 - server_module - INFO -    nota: None
2025-10-26 08:23:39,997 - server_module - INFO -    usuario: None
2025-10-26 08:23:39,997 - server_module - INFO -    fecha_conversion: None
2025-10-26 08:23:39,998 - server_module - INFO - ================================================================================
2025-10-26 08:23:40,427 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E?includeGridData=false HTTP/1.1" 200 None
2025-10-26 08:23:40,760 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E?includeGridData=false HTTP/1.1" 200 None
2025-10-26 08:23:41,224 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27 HTTP/1.1" 200 None
2025-10-26 08:23:41,699 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27%21B3?valueInputOption=USER_ENTERED HTTP/1.1" 200 None
2025-10-26 08:23:41,700 - server_module - INFO - üì§ RESPUESTA update_client: {'success': True, 'client_id': 'tEbHFy', 'updated_fields': ['Nombre'], 'message': 'Cliente actualizado: 1 campos modificados'}
2025-10-26 08:23:41,703 - mcp.server.lowlevel.server - DEBUG - Response sent
2025-10-26 08:23:41,704 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x7578f44a3110>
2025-10-26 08:23:41,704 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
2025-10-26 08:23:41,705 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type CallToolRequest
2025-10-26 08:23:41,713 - server_module - INFO - ================================================================================
2025-10-26 08:23:41,714 - server_module - INFO - üîç LLAMADA A verify_client
2025-10-26 08:23:41,714 - server_module - INFO -    telefono: 573146964611
2025-10-26 08:23:41,714 - server_module - INFO -    correo: None
2025-10-26 08:23:41,714 - server_module - INFO -    usuario: None
2025-10-26 08:23:41,714 - server_module - INFO - ================================================================================
2025-10-26 08:23:41,964 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E?includeGridData=false HTTP/1.1" 200 None
2025-10-26 08:23:42,271 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E?includeGridData=false HTTP/1.1" 200 None
2025-10-26 08:23:42,553 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27 HTTP/1.1" 200 None
2025-10-26 08:23:42,554 - server_module - INFO - üì§ RESPUESTA verify_client: {'exists': True, 'client_id': 'tEbHFy', 'nombre': 'Fernando', 'telefono': 573146964611, 'correo': 'fordezdeveloper2@gmail.com', 'tipo': 'Lead', 'estado': 'Nuevo', 'canal': 'whatsapp', 'nota': '', 'usuario': 'Fordez', 'matched_by': 'telefono'}
2025-10-26 08:23:42,555 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 08:23:42,556 - mcp.server.lowlevel.server - DEBUG - Response sent
2025-10-26 08:23:42,556 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":3,"result":{"content":[{"type":"text","text":"{\\"success\\":true,\\"client_id\\":\\"tEbHFy\\",\\"updated_fields\\":[\\"Nombre\\"],\\"message\\":\\"Cliente actualizado: 1 campos modificados\\"}"}],"structuredContent":{"success":true,"client_id":"tEbHFy","updated_fields":["Nombre"],"message":"Cliente actualizado: 1 campos modificados"},"isError":false}}\r\n\r\n'
2025-10-26 08:23:42,556 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 08:23:42,557 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":2,"result":{"content":[{"type":"text","text":"{\\"exists\\":true,\\"client_id\\":\\"tEbHFy\\",\\"nombre\\":\\"Fernando\\",\\"telefono\\":573146964611,\\"correo\\":\\"fordezdeveloper2@gmail.com\\",\\"tipo\\":\\"Lead\\",\\"estado\\":\\"Nuevo\\",\\"canal\\":\\"whatsapp\\",\\"nota\\":\\"\\",\\"usuario\\":\\"Fordez\\",\\"matched_by\\":\\"telefono\\"}"}],"structuredContent":{"exists":true,"client_id":"tEbHFy","nombre":"Fernando","telefono":573146964611,"correo":"fordezdeveloper2@gmail.com","tipo":"Lead","estado":"Nuevo","canal":"whatsapp","nota":"","usuario":"Fordez","matched_by":"telefono"},"isError":false}}\r\n\r\n'
2025-10-26 08:23:42,557 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:23:42,557 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:23:44,167 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:23:44,168 - mcp.server.streamable_http - DEBUG - Closing standalone SSE writer
2025-10-26 08:24:25,155 - mcp.server.streamable_http_manager - DEBUG - Creating new transport
2025-10-26 08:24:25,155 - mcp.server.streamable_http_manager - INFO - Created new transport with session ID: 2e0d9dfe9bb940bfba5f8635e67a8241
2025-10-26 08:24:25,159 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 08:24:25,159 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":0,"result":{"protocolVersion":"2025-03-26","capabilities":{"experimental":{},"prompts":{"listChanged":true},"resources":{"subscribe":false,"listChanged":true},"tools":{"listChanged":true}},"serverInfo":{"name":"CRM Server","version":"1.16.0"}}}\r\n\r\n'
2025-10-26 08:24:25,160 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:24:25,771 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:24:25,774 - mcp.server.lowlevel.server - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-10-26 08:24:26,110 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:24:26,343 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:24:26,346 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x7578f450c3b0>
2025-10-26 08:24:26,346 - mcp.server.lowlevel.server - INFO - Processing request of type ListToolsRequest
2025-10-26 08:24:26,346 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type ListToolsRequest
2025-10-26 08:24:26,347 - mcp.server.lowlevel.server - DEBUG - Response sent
2025-10-26 08:24:26,348 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 08:24:26,348 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":1,"result":{"tools":[{"name":"verify_client","description":"Verifica si un cliente existe en el CRM.\\nBusca por tel\xc3\xa9fono, correo o usuario. Al menos uno debe proporcionarse.\\n\\nArgs:\\n    telefono: N\xc3\xbamero de tel\xc3\xa9fono con c\xc3\xb3digo de pa\xc3\xads (ej: +5491123456789)\\n    correo: Correo electr\xc3\xb3nico del cliente\\n    usuario: Usuario o agente asignado","inputSchema":{"properties":{"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}},{"name":"create_client","description":"Crea un nuevo cliente (lead) en el CRM con ID autogenerado.\\n\\nArgs:\\n    nombre: Nombre completo del cliente (REQUERIDO)\\n    canal: Canal de origen - debe ser \'whatsapp\' o \'web\' (REQUERIDO)\\n    telefono: N\xc3\xbamero de tel\xc3\xa9fono con c\xc3\xb3digo de pa\xc3\xads\\n    correo: Correo electr\xc3\xb3nico del cliente\\n    nota: Observaciones iniciales sobre el lead\\n    usuario: Usuario o agente que registra el lead","inputSchema":{"properties":{"nombre":{"type":"string"},"canal":{"type":"string"},"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"nota":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"required":["nombre","canal"],"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}},{"name":"update_client","description":"Actualiza los datos de un cliente existente.\\nSolo actualiza los campos proporcionados.\\n\\nArgs:\\n    client_id: ID \xc3\xbanico del cliente (obtenido de verify_client) - REQUERIDO\\n    nombre: Actualizar nombre del cliente\\n    telefono: Actualizar n\xc3\xbamero de tel\xc3\xa9fono\\n    correo: Actualizar correo electr\xc3\xb3nico\\n    tipo: Tipo de cliente (Lead o Cliente)\\n    estado: Estado del lead (Nuevo, Contactado, Calificado, Negociaci\xc3\xb3n, Ganado, Perdido)\\n    nota: Notas de seguimiento o actualizaci\xc3\xb3n\\n    usuario: Reasignar a otro usuario o agente\\n    fecha_conversion: Fecha de conversi\xc3\xb3n a cliente (formato: YYYY-MM-DD HH:MM:SS)","inputSchema":{"properties":{"client_id":{"type":"string"},"nombre":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"tipo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"estado":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"nota":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"fecha_conversion":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"required":["client_id"],"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}}]}}\r\n\r\n'
2025-10-26 08:24:26,349 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:24:28,163 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:24:28,164 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:24:28,166 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x7578f450c380>
2025-10-26 08:24:28,167 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
2025-10-26 08:24:28,168 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type CallToolRequest
2025-10-26 08:24:28,181 - server_module - INFO - ================================================================================
2025-10-26 08:24:28,181 - server_module - INFO - üîç LLAMADA A verify_client
2025-10-26 08:24:28,182 - server_module - INFO -    telefono: +573146964611
2025-10-26 08:24:28,182 - server_module - INFO -    correo: None
2025-10-26 08:24:28,182 - server_module - INFO -    usuario: None
2025-10-26 08:24:28,182 - server_module - INFO - ================================================================================
2025-10-26 08:24:28,561 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E?includeGridData=false HTTP/1.1" 200 None
2025-10-26 08:24:28,839 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E?includeGridData=false HTTP/1.1" 200 None
2025-10-26 08:24:29,151 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27 HTTP/1.1" 200 None
2025-10-26 08:24:29,154 - server_module - INFO - üì§ RESPUESTA verify_client: {'exists': False, 'client_id': None, 'nombre': None, 'telefono': None, 'correo': None, 'tipo': None, 'estado': None, 'canal': None, 'nota': None, 'usuario': None, 'matched_by': None}
2025-10-26 08:24:29,156 - mcp.server.lowlevel.server - DEBUG - Response sent
2025-10-26 08:24:29,157 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x7578f44f1220>
2025-10-26 08:24:29,157 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
2025-10-26 08:24:29,157 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type CallToolRequest
2025-10-26 08:24:29,173 - server_module - INFO - ================================================================================
2025-10-26 08:24:29,173 - server_module - INFO - üîÑ LLAMADA A update_client
2025-10-26 08:24:29,173 - server_module - INFO -    client_id: tEbHFy
2025-10-26 08:24:29,173 - server_module - INFO -    nombre: None
2025-10-26 08:24:29,173 - server_module - INFO -    telefono: None
2025-10-26 08:24:29,173 - server_module - INFO -    correo: fordeztest@gmail.com
2025-10-26 08:24:29,173 - server_module - INFO -    tipo: None
2025-10-26 08:24:29,173 - server_module - INFO -    estado: None
2025-10-26 08:24:29,174 - server_module - INFO -    nota: None
2025-10-26 08:24:29,174 - server_module - INFO -    usuario: None
2025-10-26 08:24:29,174 - server_module - INFO -    fecha_conversion: None
2025-10-26 08:24:29,174 - server_module - INFO - ================================================================================
2025-10-26 08:24:29,426 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E?includeGridData=false HTTP/1.1" 200 None
2025-10-26 08:24:29,761 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E?includeGridData=false HTTP/1.1" 200 None
2025-10-26 08:24:30,030 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27 HTTP/1.1" 200 None
2025-10-26 08:24:30,478 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27%21D3?valueInputOption=USER_ENTERED HTTP/1.1" 200 None
2025-10-26 08:24:30,479 - server_module - INFO - üì§ RESPUESTA update_client: {'success': True, 'client_id': 'tEbHFy', 'updated_fields': ['Correo'], 'message': 'Cliente actualizado: 1 campos modificados'}
2025-10-26 08:24:30,482 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 08:24:30,482 - mcp.server.lowlevel.server - DEBUG - Response sent
2025-10-26 08:24:30,482 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":2,"result":{"content":[{"type":"text","text":"{\\"exists\\":false,\\"client_id\\":null,\\"nombre\\":null,\\"telefono\\":null,\\"correo\\":null,\\"tipo\\":null,\\"estado\\":null,\\"canal\\":null,\\"nota\\":null,\\"usuario\\":null,\\"matched_by\\":null}"}],"structuredContent":{"exists":false,"client_id":null,"nombre":null,"telefono":null,"correo":null,"tipo":null,"estado":null,"canal":null,"nota":null,"usuario":null,"matched_by":null},"isError":false}}\r\n\r\n'
2025-10-26 08:24:30,483 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 08:24:30,484 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":3,"result":{"content":[{"type":"text","text":"{\\"success\\":true,\\"client_id\\":\\"tEbHFy\\",\\"updated_fields\\":[\\"Correo\\"],\\"message\\":\\"Cliente actualizado: 1 campos modificados\\"}"}],"structuredContent":{"success":true,"client_id":"tEbHFy","updated_fields":["Correo"],"message":"Cliente actualizado: 1 campos modificados"},"isError":false}}\r\n\r\n'
2025-10-26 08:24:30,485 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:24:30,486 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:24:31,854 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:24:31,855 - mcp.server.streamable_http - DEBUG - Closing standalone SSE writer
2025-10-26 08:32:56,819 - mcp.server.streamable_http_manager - DEBUG - Creating new transport
2025-10-26 08:32:56,820 - mcp.server.streamable_http_manager - INFO - Created new transport with session ID: 15fca41d2f18470886b7806dab985863
2025-10-26 08:32:56,829 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 08:32:56,829 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":0,"result":{"protocolVersion":"2025-03-26","capabilities":{"experimental":{},"prompts":{"listChanged":true},"resources":{"subscribe":false,"listChanged":true},"tools":{"listChanged":true}},"serverInfo":{"name":"CRM Server","version":"1.16.0"}}}\r\n\r\n'
2025-10-26 08:32:56,830 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:32:57,391 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:32:57,393 - mcp.server.lowlevel.server - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-10-26 08:32:57,738 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:32:58,092 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:32:58,096 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x7578f450f800>
2025-10-26 08:32:58,097 - mcp.server.lowlevel.server - INFO - Processing request of type ListToolsRequest
2025-10-26 08:32:58,097 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type ListToolsRequest
2025-10-26 08:32:58,097 - mcp.server.lowlevel.server - DEBUG - Response sent
2025-10-26 08:32:58,098 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 08:32:58,098 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":1,"result":{"tools":[{"name":"verify_client","description":"Verifica si un cliente existe en el CRM.\\nBusca por tel\xc3\xa9fono, correo o usuario. Al menos uno debe proporcionarse.\\n\\nArgs:\\n    telefono: N\xc3\xbamero de tel\xc3\xa9fono con c\xc3\xb3digo de pa\xc3\xads (ej: +5491123456789)\\n    correo: Correo electr\xc3\xb3nico del cliente\\n    usuario: Usuario o agente asignado","inputSchema":{"properties":{"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}},{"name":"create_client","description":"Crea un nuevo cliente (lead) en el CRM con ID autogenerado.\\n\\nArgs:\\n    nombre: Nombre completo del cliente (REQUERIDO)\\n    canal: Canal de origen - debe ser \'whatsapp\' o \'web\' (REQUERIDO)\\n    telefono: N\xc3\xbamero de tel\xc3\xa9fono con c\xc3\xb3digo de pa\xc3\xads\\n    correo: Correo electr\xc3\xb3nico del cliente\\n    nota: Observaciones iniciales sobre el lead\\n    usuario: Usuario o agente que registra el lead","inputSchema":{"properties":{"nombre":{"type":"string"},"canal":{"type":"string"},"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"nota":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"required":["nombre","canal"],"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}},{"name":"update_client","description":"Actualiza los datos de un cliente existente.\\nSolo actualiza los campos proporcionados.\\n\\nArgs:\\n    client_id: ID \xc3\xbanico del cliente (obtenido de verify_client) - REQUERIDO\\n    nombre: Actualizar nombre del cliente\\n    telefono: Actualizar n\xc3\xbamero de tel\xc3\xa9fono\\n    correo: Actualizar correo electr\xc3\xb3nico\\n    tipo: Tipo de cliente (Lead o Cliente)\\n    estado: Estado del lead (Nuevo, Contactado, Calificado, Negociaci\xc3\xb3n, Ganado, Perdido)\\n    nota: Notas de seguimiento o actualizaci\xc3\xb3n\\n    usuario: Reasignar a otro usuario o agente\\n    fecha_conversion: Fecha de conversi\xc3\xb3n a cliente (formato: YYYY-MM-DD HH:MM:SS)","inputSchema":{"properties":{"client_id":{"type":"string"},"nombre":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"tipo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"estado":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"nota":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"fecha_conversion":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"required":["client_id"],"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}}]}}\r\n\r\n'
2025-10-26 08:32:58,099 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:32:59,930 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:32:59,933 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x7578f450ef90>
2025-10-26 08:32:59,934 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
2025-10-26 08:32:59,935 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type CallToolRequest
2025-10-26 08:32:59,941 - server_module - INFO - ================================================================================
2025-10-26 08:32:59,941 - server_module - INFO - üîç LLAMADA A verify_client
2025-10-26 08:32:59,941 - server_module - INFO -    telefono: +573146964611
2025-10-26 08:32:59,942 - server_module - INFO -    correo: None
2025-10-26 08:32:59,942 - server_module - INFO -    usuario: None
2025-10-26 08:32:59,942 - server_module - INFO - ================================================================================
2025-10-26 08:32:59,945 - urllib3.connectionpool - DEBUG - Resetting dropped connection: sheets.googleapis.com
2025-10-26 08:33:00,638 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E?includeGridData=false HTTP/1.1" 200 None
2025-10-26 08:33:00,956 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E?includeGridData=false HTTP/1.1" 200 None
2025-10-26 08:33:01,296 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27 HTTP/1.1" 200 None
2025-10-26 08:33:01,298 - server_module - INFO - üì§ RESPUESTA verify_client: {'exists': False, 'client_id': None, 'nombre': None, 'telefono': None, 'correo': None, 'tipo': None, 'estado': None, 'canal': None, 'nota': None, 'usuario': None, 'matched_by': None}
2025-10-26 08:33:01,301 - mcp.server.lowlevel.server - DEBUG - Response sent
2025-10-26 08:33:01,303 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 08:33:01,303 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":2,"result":{"content":[{"type":"text","text":"{\\"exists\\":false,\\"client_id\\":null,\\"nombre\\":null,\\"telefono\\":null,\\"correo\\":null,\\"tipo\\":null,\\"estado\\":null,\\"canal\\":null,\\"nota\\":null,\\"usuario\\":null,\\"matched_by\\":null}"}],"structuredContent":{"exists":false,"client_id":null,"nombre":null,"telefono":null,"correo":null,"tipo":null,"estado":null,"canal":null,"nota":null,"usuario":null,"matched_by":null},"isError":false}}\r\n\r\n'
2025-10-26 08:33:01,304 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:33:02,895 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:33:02,895 - mcp.server.streamable_http - DEBUG - Closing standalone SSE writer
2025-10-26 08:33:32,901 - mcp.server.streamable_http_manager - DEBUG - Creating new transport
2025-10-26 08:33:32,902 - mcp.server.streamable_http_manager - INFO - Created new transport with session ID: 845518a67584479f88de7ba4676690fb
2025-10-26 08:33:32,911 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 08:33:32,912 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":0,"result":{"protocolVersion":"2025-03-26","capabilities":{"experimental":{},"prompts":{"listChanged":true},"resources":{"subscribe":false,"listChanged":true},"tools":{"listChanged":true}},"serverInfo":{"name":"CRM Server","version":"1.16.0"}}}\r\n\r\n'
2025-10-26 08:33:32,913 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:33:33,616 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:33:33,617 - mcp.server.lowlevel.server - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-10-26 08:33:33,960 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:33:34,182 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:33:34,184 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x7578f44a1670>
2025-10-26 08:33:34,184 - mcp.server.lowlevel.server - INFO - Processing request of type ListToolsRequest
2025-10-26 08:33:34,184 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type ListToolsRequest
2025-10-26 08:33:34,184 - mcp.server.lowlevel.server - DEBUG - Response sent
2025-10-26 08:33:34,185 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 08:33:34,185 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":1,"result":{"tools":[{"name":"verify_client","description":"Verifica si un cliente existe en el CRM.\\nBusca por tel\xc3\xa9fono, correo o usuario. Al menos uno debe proporcionarse.\\n\\nArgs:\\n    telefono: N\xc3\xbamero de tel\xc3\xa9fono con c\xc3\xb3digo de pa\xc3\xads (ej: +5491123456789)\\n    correo: Correo electr\xc3\xb3nico del cliente\\n    usuario: Usuario o agente asignado","inputSchema":{"properties":{"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}},{"name":"create_client","description":"Crea un nuevo cliente (lead) en el CRM con ID autogenerado.\\n\\nArgs:\\n    nombre: Nombre completo del cliente (REQUERIDO)\\n    canal: Canal de origen - debe ser \'whatsapp\' o \'web\' (REQUERIDO)\\n    telefono: N\xc3\xbamero de tel\xc3\xa9fono con c\xc3\xb3digo de pa\xc3\xads\\n    correo: Correo electr\xc3\xb3nico del cliente\\n    nota: Observaciones iniciales sobre el lead\\n    usuario: Usuario o agente que registra el lead","inputSchema":{"properties":{"nombre":{"type":"string"},"canal":{"type":"string"},"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"nota":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"required":["nombre","canal"],"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}},{"name":"update_client","description":"Actualiza los datos de un cliente existente.\\nSolo actualiza los campos proporcionados.\\n\\nArgs:\\n    client_id: ID \xc3\xbanico del cliente (obtenido de verify_client) - REQUERIDO\\n    nombre: Actualizar nombre del cliente\\n    telefono: Actualizar n\xc3\xbamero de tel\xc3\xa9fono\\n    correo: Actualizar correo electr\xc3\xb3nico\\n    tipo: Tipo de cliente (Lead o Cliente)\\n    estado: Estado del lead (Nuevo, Contactado, Calificado, Negociaci\xc3\xb3n, Ganado, Perdido)\\n    nota: Notas de seguimiento o actualizaci\xc3\xb3n\\n    usuario: Reasignar a otro usuario o agente\\n    fecha_conversion: Fecha de conversi\xc3\xb3n a cliente (formato: YYYY-MM-DD HH:MM:SS)","inputSchema":{"properties":{"client_id":{"type":"string"},"nombre":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"tipo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"estado":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"nota":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"fecha_conversion":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"required":["client_id"],"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}}]}}\r\n\r\n'
2025-10-26 08:33:34,186 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:33:35,645 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:33:35,648 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x7578f4516b70>
2025-10-26 08:33:35,649 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
2025-10-26 08:33:35,649 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type CallToolRequest
2025-10-26 08:33:35,658 - server_module - INFO - ================================================================================
2025-10-26 08:33:35,658 - server_module - INFO - üîç LLAMADA A verify_client
2025-10-26 08:33:35,658 - server_module - INFO -    telefono: +573146964611
2025-10-26 08:33:35,658 - server_module - INFO -    correo: None
2025-10-26 08:33:35,659 - server_module - INFO -    usuario: None
2025-10-26 08:33:35,659 - server_module - INFO - ================================================================================
2025-10-26 08:33:35,875 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E?includeGridData=false HTTP/1.1" 200 None
2025-10-26 08:33:36,185 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E?includeGridData=false HTTP/1.1" 200 None
2025-10-26 08:33:36,500 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27 HTTP/1.1" 200 None
2025-10-26 08:33:36,501 - server_module - INFO - üì§ RESPUESTA verify_client: {'exists': False, 'client_id': None, 'nombre': None, 'telefono': None, 'correo': None, 'tipo': None, 'estado': None, 'canal': None, 'nota': None, 'usuario': None, 'matched_by': None}
2025-10-26 08:33:36,502 - mcp.server.lowlevel.server - DEBUG - Response sent
2025-10-26 08:33:36,503 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 08:33:36,503 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":2,"result":{"content":[{"type":"text","text":"{\\"exists\\":false,\\"client_id\\":null,\\"nombre\\":null,\\"telefono\\":null,\\"correo\\":null,\\"tipo\\":null,\\"estado\\":null,\\"canal\\":null,\\"nota\\":null,\\"usuario\\":null,\\"matched_by\\":null}"}],"structuredContent":{"exists":false,"client_id":null,"nombre":null,"telefono":null,"correo":null,"tipo":null,"estado":null,"canal":null,"nota":null,"usuario":null,"matched_by":null},"isError":false}}\r\n\r\n'
2025-10-26 08:33:36,504 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:33:37,934 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:33:37,936 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x7578f4515eb0>
2025-10-26 08:33:37,936 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
2025-10-26 08:33:37,936 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type CallToolRequest
2025-10-26 08:33:37,952 - server_module - INFO - ================================================================================
2025-10-26 08:33:37,953 - server_module - INFO - ‚ú® LLAMADA A create_client
2025-10-26 08:33:37,953 - server_module - INFO -    nombre: Fernando
2025-10-26 08:33:37,953 - server_module - INFO -    canal: whatsapp
2025-10-26 08:33:37,953 - server_module - INFO -    telefono: +573146964611
2025-10-26 08:33:37,953 - server_module - INFO -    correo: None
2025-10-26 08:33:37,953 - server_module - INFO -    nota: None
2025-10-26 08:33:37,953 - server_module - INFO -    usuario: Fordez
2025-10-26 08:33:37,953 - server_module - INFO - ================================================================================
2025-10-26 08:33:38,246 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E?includeGridData=false HTTP/1.1" 200 None
2025-10-26 08:33:38,546 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E?includeGridData=false HTTP/1.1" 200 None
2025-10-26 08:33:38,898 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27 HTTP/1.1" 200 None
2025-10-26 08:33:39,298 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27%21A3?valueInputOption=USER_ENTERED HTTP/1.1" 200 None
2025-10-26 08:33:39,857 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27%21B3?valueInputOption=USER_ENTERED HTTP/1.1" 200 None
2025-10-26 08:33:40,146 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27%21C3?valueInputOption=USER_ENTERED HTTP/1.1" 200 None
2025-10-26 08:33:40,466 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27%21D3?valueInputOption=USER_ENTERED HTTP/1.1" 200 None
2025-10-26 08:33:40,690 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27%21E3?valueInputOption=USER_ENTERED HTTP/1.1" 200 None
2025-10-26 08:33:40,922 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27%21F3?valueInputOption=USER_ENTERED HTTP/1.1" 200 None
2025-10-26 08:33:41,199 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27%21G3?valueInputOption=USER_ENTERED HTTP/1.1" 200 None
2025-10-26 08:33:41,432 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27%21H3?valueInputOption=USER_ENTERED HTTP/1.1" 200 None
2025-10-26 08:33:41,674 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27%21I3?valueInputOption=USER_ENTERED HTTP/1.1" 200 None
2025-10-26 08:33:41,910 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27%21J3?valueInputOption=USER_ENTERED HTTP/1.1" 200 None
2025-10-26 08:33:42,141 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27%21K3?valueInputOption=USER_ENTERED HTTP/1.1" 200 None
2025-10-26 08:33:42,142 - server_module - INFO - üì§ RESPUESTA create_client: {'success': True, 'client_id': 'f7CFYw', 'nombre': 'Fernando', 'canal': 'whatsapp', 'message': 'Cliente creado exitosamente'}
2025-10-26 08:33:42,144 - mcp.server.lowlevel.server - DEBUG - Response sent
2025-10-26 08:33:42,145 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 08:33:42,145 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":3,"result":{"content":[{"type":"text","text":"{\\"success\\":true,\\"client_id\\":\\"f7CFYw\\",\\"nombre\\":\\"Fernando\\",\\"canal\\":\\"whatsapp\\",\\"message\\":\\"Cliente creado exitosamente\\"}"}],"structuredContent":{"success":true,"client_id":"f7CFYw","nombre":"Fernando","canal":"whatsapp","message":"Cliente creado exitosamente"},"isError":false}}\r\n\r\n'
2025-10-26 08:33:42,146 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:33:44,785 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:33:44,786 - mcp.server.streamable_http - DEBUG - Closing standalone SSE writer
2025-10-26 08:34:31,373 - mcp.server.streamable_http_manager - DEBUG - Creating new transport
2025-10-26 08:34:31,374 - mcp.server.streamable_http_manager - INFO - Created new transport with session ID: c499085ea6904004b1141a8f067b6ea0
2025-10-26 08:34:31,380 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 08:34:31,380 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":0,"result":{"protocolVersion":"2025-03-26","capabilities":{"experimental":{},"prompts":{"listChanged":true},"resources":{"subscribe":false,"listChanged":true},"tools":{"listChanged":true}},"serverInfo":{"name":"CRM Server","version":"1.16.0"}}}\r\n\r\n'
2025-10-26 08:34:31,381 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:34:31,991 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:34:31,994 - mcp.server.lowlevel.server - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-10-26 08:34:32,333 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:34:32,550 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:34:32,551 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x7578f44d85c0>
2025-10-26 08:34:32,551 - mcp.server.lowlevel.server - INFO - Processing request of type ListToolsRequest
2025-10-26 08:34:32,551 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type ListToolsRequest
2025-10-26 08:34:32,552 - mcp.server.lowlevel.server - DEBUG - Response sent
2025-10-26 08:34:32,552 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 08:34:32,553 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":1,"result":{"tools":[{"name":"verify_client","description":"Verifica si un cliente existe en el CRM.\\nBusca por tel\xc3\xa9fono, correo o usuario. Al menos uno debe proporcionarse.\\n\\nArgs:\\n    telefono: N\xc3\xbamero de tel\xc3\xa9fono con c\xc3\xb3digo de pa\xc3\xads (ej: +5491123456789)\\n    correo: Correo electr\xc3\xb3nico del cliente\\n    usuario: Usuario o agente asignado","inputSchema":{"properties":{"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}},{"name":"create_client","description":"Crea un nuevo cliente (lead) en el CRM con ID autogenerado.\\n\\nArgs:\\n    nombre: Nombre completo del cliente (REQUERIDO)\\n    canal: Canal de origen - debe ser \'whatsapp\' o \'web\' (REQUERIDO)\\n    telefono: N\xc3\xbamero de tel\xc3\xa9fono con c\xc3\xb3digo de pa\xc3\xads\\n    correo: Correo electr\xc3\xb3nico del cliente\\n    nota: Observaciones iniciales sobre el lead\\n    usuario: Usuario o agente que registra el lead","inputSchema":{"properties":{"nombre":{"type":"string"},"canal":{"type":"string"},"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"nota":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"required":["nombre","canal"],"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}},{"name":"update_client","description":"Actualiza los datos de un cliente existente.\\nSolo actualiza los campos proporcionados.\\n\\nArgs:\\n    client_id: ID \xc3\xbanico del cliente (obtenido de verify_client) - REQUERIDO\\n    nombre: Actualizar nombre del cliente\\n    telefono: Actualizar n\xc3\xbamero de tel\xc3\xa9fono\\n    correo: Actualizar correo electr\xc3\xb3nico\\n    tipo: Tipo de cliente (Lead o Cliente)\\n    estado: Estado del lead (Nuevo, Contactado, Calificado, Negociaci\xc3\xb3n, Ganado, Perdido)\\n    nota: Notas de seguimiento o actualizaci\xc3\xb3n\\n    usuario: Reasignar a otro usuario o agente\\n    fecha_conversion: Fecha de conversi\xc3\xb3n a cliente (formato: YYYY-MM-DD HH:MM:SS)","inputSchema":{"properties":{"client_id":{"type":"string"},"nombre":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"tipo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"estado":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"nota":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"fecha_conversion":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"required":["client_id"],"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}}]}}\r\n\r\n'
2025-10-26 08:34:32,553 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:34:33,835 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:34:33,837 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x7578f44f1f10>
2025-10-26 08:34:33,837 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
2025-10-26 08:34:33,837 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type CallToolRequest
2025-10-26 08:34:33,842 - server_module - INFO - ================================================================================
2025-10-26 08:34:33,842 - server_module - INFO - üîç LLAMADA A verify_client
2025-10-26 08:34:33,842 - server_module - INFO -    telefono: 573146964611
2025-10-26 08:34:33,842 - server_module - INFO -    correo: None
2025-10-26 08:34:33,842 - server_module - INFO -    usuario: None
2025-10-26 08:34:33,842 - server_module - INFO - ================================================================================
2025-10-26 08:34:34,117 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E?includeGridData=false HTTP/1.1" 200 None
2025-10-26 08:34:34,442 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E?includeGridData=false HTTP/1.1" 200 None
2025-10-26 08:34:34,752 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27 HTTP/1.1" 200 None
2025-10-26 08:34:34,753 - server_module - INFO - üì§ RESPUESTA verify_client: {'exists': True, 'client_id': 'f7CFYw', 'nombre': 'Fernando', 'telefono': 573146964611, 'correo': '', 'tipo': 'Lead', 'estado': 'Nuevo', 'canal': 'whatsapp', 'nota': '', 'usuario': 'Fordez', 'matched_by': 'telefono'}
2025-10-26 08:34:34,755 - mcp.server.lowlevel.server - DEBUG - Response sent
2025-10-26 08:34:34,755 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 08:34:34,756 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":2,"result":{"content":[{"type":"text","text":"{\\"exists\\":true,\\"client_id\\":\\"f7CFYw\\",\\"nombre\\":\\"Fernando\\",\\"telefono\\":573146964611,\\"correo\\":\\"\\",\\"tipo\\":\\"Lead\\",\\"estado\\":\\"Nuevo\\",\\"canal\\":\\"whatsapp\\",\\"nota\\":\\"\\",\\"usuario\\":\\"Fordez\\",\\"matched_by\\":\\"telefono\\"}"}],"structuredContent":{"exists":true,"client_id":"f7CFYw","nombre":"Fernando","telefono":573146964611,"correo":"","tipo":"Lead","estado":"Nuevo","canal":"whatsapp","nota":"","usuario":"Fordez","matched_by":"telefono"},"isError":false}}\r\n\r\n'
2025-10-26 08:34:34,756 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:34:36,802 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:34:36,802 - mcp.server.streamable_http - DEBUG - Closing standalone SSE writer
2025-10-26 08:34:56,057 - mcp.server.streamable_http_manager - DEBUG - Creating new transport
2025-10-26 08:34:56,057 - mcp.server.streamable_http_manager - INFO - Created new transport with session ID: 4854830d0382481ea5748d8ab6d0c41f
2025-10-26 08:34:56,061 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 08:34:56,062 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":0,"result":{"protocolVersion":"2025-03-26","capabilities":{"experimental":{},"prompts":{"listChanged":true},"resources":{"subscribe":false,"listChanged":true},"tools":{"listChanged":true}},"serverInfo":{"name":"CRM Server","version":"1.16.0"}}}\r\n\r\n'
2025-10-26 08:34:56,062 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:34:56,672 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:34:56,674 - mcp.server.lowlevel.server - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-10-26 08:34:57,013 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:34:57,286 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:34:57,288 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x7578f44d8e00>
2025-10-26 08:34:57,288 - mcp.server.lowlevel.server - INFO - Processing request of type ListToolsRequest
2025-10-26 08:34:57,288 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type ListToolsRequest
2025-10-26 08:34:57,289 - mcp.server.lowlevel.server - DEBUG - Response sent
2025-10-26 08:34:57,290 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 08:34:57,290 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":1,"result":{"tools":[{"name":"verify_client","description":"Verifica si un cliente existe en el CRM.\\nBusca por tel\xc3\xa9fono, correo o usuario. Al menos uno debe proporcionarse.\\n\\nArgs:\\n    telefono: N\xc3\xbamero de tel\xc3\xa9fono con c\xc3\xb3digo de pa\xc3\xads (ej: +5491123456789)\\n    correo: Correo electr\xc3\xb3nico del cliente\\n    usuario: Usuario o agente asignado","inputSchema":{"properties":{"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}},{"name":"create_client","description":"Crea un nuevo cliente (lead) en el CRM con ID autogenerado.\\n\\nArgs:\\n    nombre: Nombre completo del cliente (REQUERIDO)\\n    canal: Canal de origen - debe ser \'whatsapp\' o \'web\' (REQUERIDO)\\n    telefono: N\xc3\xbamero de tel\xc3\xa9fono con c\xc3\xb3digo de pa\xc3\xads\\n    correo: Correo electr\xc3\xb3nico del cliente\\n    nota: Observaciones iniciales sobre el lead\\n    usuario: Usuario o agente que registra el lead","inputSchema":{"properties":{"nombre":{"type":"string"},"canal":{"type":"string"},"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"nota":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"required":["nombre","canal"],"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}},{"name":"update_client","description":"Actualiza los datos de un cliente existente.\\nSolo actualiza los campos proporcionados.\\n\\nArgs:\\n    client_id: ID \xc3\xbanico del cliente (obtenido de verify_client) - REQUERIDO\\n    nombre: Actualizar nombre del cliente\\n    telefono: Actualizar n\xc3\xbamero de tel\xc3\xa9fono\\n    correo: Actualizar correo electr\xc3\xb3nico\\n    tipo: Tipo de cliente (Lead o Cliente)\\n    estado: Estado del lead (Nuevo, Contactado, Calificado, Negociaci\xc3\xb3n, Ganado, Perdido)\\n    nota: Notas de seguimiento o actualizaci\xc3\xb3n\\n    usuario: Reasignar a otro usuario o agente\\n    fecha_conversion: Fecha de conversi\xc3\xb3n a cliente (formato: YYYY-MM-DD HH:MM:SS)","inputSchema":{"properties":{"client_id":{"type":"string"},"nombre":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"tipo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"estado":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"nota":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"fecha_conversion":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"required":["client_id"],"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}}]}}\r\n\r\n'
2025-10-26 08:34:57,291 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:34:59,632 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:34:59,633 - mcp.server.streamable_http - DEBUG - Closing standalone SSE writer
2025-10-26 08:35:10,494 - mcp.server.streamable_http_manager - DEBUG - Creating new transport
2025-10-26 08:35:10,495 - mcp.server.streamable_http_manager - INFO - Created new transport with session ID: b4f0efceefea4ca78f56dc52440fdfc5
2025-10-26 08:35:10,503 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 08:35:10,503 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":0,"result":{"protocolVersion":"2025-03-26","capabilities":{"experimental":{},"prompts":{"listChanged":true},"resources":{"subscribe":false,"listChanged":true},"tools":{"listChanged":true}},"serverInfo":{"name":"CRM Server","version":"1.16.0"}}}\r\n\r\n'
2025-10-26 08:35:10,504 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:35:11,280 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:35:11,281 - mcp.server.lowlevel.server - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-10-26 08:35:11,695 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:35:11,948 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:35:11,949 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x7578f44f2240>
2025-10-26 08:35:11,949 - mcp.server.lowlevel.server - INFO - Processing request of type ListToolsRequest
2025-10-26 08:35:11,949 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type ListToolsRequest
2025-10-26 08:35:11,950 - mcp.server.lowlevel.server - DEBUG - Response sent
2025-10-26 08:35:11,951 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 08:35:11,951 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":1,"result":{"tools":[{"name":"verify_client","description":"Verifica si un cliente existe en el CRM.\\nBusca por tel\xc3\xa9fono, correo o usuario. Al menos uno debe proporcionarse.\\n\\nArgs:\\n    telefono: N\xc3\xbamero de tel\xc3\xa9fono con c\xc3\xb3digo de pa\xc3\xads (ej: +5491123456789)\\n    correo: Correo electr\xc3\xb3nico del cliente\\n    usuario: Usuario o agente asignado","inputSchema":{"properties":{"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}},{"name":"create_client","description":"Crea un nuevo cliente (lead) en el CRM con ID autogenerado.\\n\\nArgs:\\n    nombre: Nombre completo del cliente (REQUERIDO)\\n    canal: Canal de origen - debe ser \'whatsapp\' o \'web\' (REQUERIDO)\\n    telefono: N\xc3\xbamero de tel\xc3\xa9fono con c\xc3\xb3digo de pa\xc3\xads\\n    correo: Correo electr\xc3\xb3nico del cliente\\n    nota: Observaciones iniciales sobre el lead\\n    usuario: Usuario o agente que registra el lead","inputSchema":{"properties":{"nombre":{"type":"string"},"canal":{"type":"string"},"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"nota":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"required":["nombre","canal"],"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}},{"name":"update_client","description":"Actualiza los datos de un cliente existente.\\nSolo actualiza los campos proporcionados.\\n\\nArgs:\\n    client_id: ID \xc3\xbanico del cliente (obtenido de verify_client) - REQUERIDO\\n    nombre: Actualizar nombre del cliente\\n    telefono: Actualizar n\xc3\xbamero de tel\xc3\xa9fono\\n    correo: Actualizar correo electr\xc3\xb3nico\\n    tipo: Tipo de cliente (Lead o Cliente)\\n    estado: Estado del lead (Nuevo, Contactado, Calificado, Negociaci\xc3\xb3n, Ganado, Perdido)\\n    nota: Notas de seguimiento o actualizaci\xc3\xb3n\\n    usuario: Reasignar a otro usuario o agente\\n    fecha_conversion: Fecha de conversi\xc3\xb3n a cliente (formato: YYYY-MM-DD HH:MM:SS)","inputSchema":{"properties":{"client_id":{"type":"string"},"nombre":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"tipo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"estado":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"nota":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"fecha_conversion":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"required":["client_id"],"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}}]}}\r\n\r\n'
2025-10-26 08:35:11,952 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:35:13,467 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:35:13,468 - mcp.server.streamable_http - DEBUG - Closing standalone SSE writer
2025-10-26 08:35:47,252 - mcp.server.streamable_http_manager - DEBUG - Creating new transport
2025-10-26 08:35:47,252 - mcp.server.streamable_http_manager - INFO - Created new transport with session ID: 3c82af99777f4177bdeb30951f9d3619
2025-10-26 08:35:47,257 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 08:35:47,257 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":0,"result":{"protocolVersion":"2025-03-26","capabilities":{"experimental":{},"prompts":{"listChanged":true},"resources":{"subscribe":false,"listChanged":true},"tools":{"listChanged":true}},"serverInfo":{"name":"CRM Server","version":"1.16.0"}}}\r\n\r\n'
2025-10-26 08:35:47,258 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:35:47,898 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:35:47,900 - mcp.server.lowlevel.server - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-10-26 08:35:48,281 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:35:48,483 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:35:48,486 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x7578f450d550>
2025-10-26 08:35:48,486 - mcp.server.lowlevel.server - INFO - Processing request of type ListToolsRequest
2025-10-26 08:35:48,486 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type ListToolsRequest
2025-10-26 08:35:48,487 - mcp.server.lowlevel.server - DEBUG - Response sent
2025-10-26 08:35:48,488 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 08:35:48,488 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":1,"result":{"tools":[{"name":"verify_client","description":"Verifica si un cliente existe en el CRM.\\nBusca por tel\xc3\xa9fono, correo o usuario. Al menos uno debe proporcionarse.\\n\\nArgs:\\n    telefono: N\xc3\xbamero de tel\xc3\xa9fono con c\xc3\xb3digo de pa\xc3\xads (ej: +5491123456789)\\n    correo: Correo electr\xc3\xb3nico del cliente\\n    usuario: Usuario o agente asignado","inputSchema":{"properties":{"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}},{"name":"create_client","description":"Crea un nuevo cliente (lead) en el CRM con ID autogenerado.\\n\\nArgs:\\n    nombre: Nombre completo del cliente (REQUERIDO)\\n    canal: Canal de origen - debe ser \'whatsapp\' o \'web\' (REQUERIDO)\\n    telefono: N\xc3\xbamero de tel\xc3\xa9fono con c\xc3\xb3digo de pa\xc3\xads\\n    correo: Correo electr\xc3\xb3nico del cliente\\n    nota: Observaciones iniciales sobre el lead\\n    usuario: Usuario o agente que registra el lead","inputSchema":{"properties":{"nombre":{"type":"string"},"canal":{"type":"string"},"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"nota":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"required":["nombre","canal"],"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}},{"name":"update_client","description":"Actualiza los datos de un cliente existente.\\nSolo actualiza los campos proporcionados.\\n\\nArgs:\\n    client_id: ID \xc3\xbanico del cliente (obtenido de verify_client) - REQUERIDO\\n    nombre: Actualizar nombre del cliente\\n    telefono: Actualizar n\xc3\xbamero de tel\xc3\xa9fono\\n    correo: Actualizar correo electr\xc3\xb3nico\\n    tipo: Tipo de cliente (Lead o Cliente)\\n    estado: Estado del lead (Nuevo, Contactado, Calificado, Negociaci\xc3\xb3n, Ganado, Perdido)\\n    nota: Notas de seguimiento o actualizaci\xc3\xb3n\\n    usuario: Reasignar a otro usuario o agente\\n    fecha_conversion: Fecha de conversi\xc3\xb3n a cliente (formato: YYYY-MM-DD HH:MM:SS)","inputSchema":{"properties":{"client_id":{"type":"string"},"nombre":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"tipo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"estado":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"nota":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"fecha_conversion":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"required":["client_id"],"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}}]}}\r\n\r\n'
2025-10-26 08:35:48,490 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:35:50,329 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:35:50,332 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x7578f4517170>
2025-10-26 08:35:50,332 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
2025-10-26 08:35:50,332 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type CallToolRequest
2025-10-26 08:35:50,347 - server_module - INFO - ================================================================================
2025-10-26 08:35:50,348 - server_module - INFO - üîÑ LLAMADA A update_client
2025-10-26 08:35:50,348 - server_module - INFO -    client_id: tEbHFy
2025-10-26 08:35:50,348 - server_module - INFO -    nombre: Fernando
2025-10-26 08:35:50,348 - server_module - INFO -    telefono: None
2025-10-26 08:35:50,348 - server_module - INFO -    correo: None
2025-10-26 08:35:50,349 - server_module - INFO -    tipo: None
2025-10-26 08:35:50,349 - server_module - INFO -    estado: None
2025-10-26 08:35:50,349 - server_module - INFO -    nota: Inter√©s en desarrollo web para aumentar ventas, cliente tipo empresa, sitio web: www.gh.com
2025-10-26 08:35:50,349 - server_module - INFO -    usuario: Fordez
2025-10-26 08:35:50,349 - server_module - INFO -    fecha_conversion: None
2025-10-26 08:35:50,350 - server_module - INFO - ================================================================================
2025-10-26 08:35:50,586 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E?includeGridData=false HTTP/1.1" 200 None
2025-10-26 08:35:50,837 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E?includeGridData=false HTTP/1.1" 200 None
2025-10-26 08:35:51,147 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27 HTTP/1.1" 200 None
2025-10-26 08:35:51,148 - server_module - INFO - üì§ RESPUESTA update_client: {'success': False, 'error': "Cliente con ID 'tEbHFy' no encontrado"}
2025-10-26 08:35:51,149 - mcp.server.lowlevel.server - DEBUG - Response sent
2025-10-26 08:35:51,150 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 08:35:51,150 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":2,"result":{"content":[{"type":"text","text":"{\\"success\\":false,\\"error\\":\\"Cliente con ID \'tEbHFy\' no encontrado\\"}"}],"structuredContent":{"success":false,"error":"Cliente con ID \'tEbHFy\' no encontrado"},"isError":false}}\r\n\r\n'
2025-10-26 08:35:51,150 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:35:52,785 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:35:52,786 - mcp.server.streamable_http - DEBUG - Closing standalone SSE writer
2025-10-26 08:37:23,308 - mcp.server.streamable_http_manager - DEBUG - Creating new transport
2025-10-26 08:37:23,308 - mcp.server.streamable_http_manager - INFO - Created new transport with session ID: 12ff05799b354692b9be42a75fcd3da0
2025-10-26 08:37:23,312 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 08:37:23,313 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":0,"result":{"protocolVersion":"2025-03-26","capabilities":{"experimental":{},"prompts":{"listChanged":true},"resources":{"subscribe":false,"listChanged":true},"tools":{"listChanged":true}},"serverInfo":{"name":"CRM Server","version":"1.16.0"}}}\r\n\r\n'
2025-10-26 08:37:23,313 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:37:23,917 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:37:23,919 - mcp.server.lowlevel.server - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-10-26 08:37:24,273 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:37:24,534 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:37:24,536 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x7578f4569a60>
2025-10-26 08:37:24,537 - mcp.server.lowlevel.server - INFO - Processing request of type ListToolsRequest
2025-10-26 08:37:24,537 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type ListToolsRequest
2025-10-26 08:37:24,537 - mcp.server.lowlevel.server - DEBUG - Response sent
2025-10-26 08:37:24,538 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 08:37:24,538 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":1,"result":{"tools":[{"name":"verify_client","description":"Verifica si un cliente existe en el CRM.\\nBusca por tel\xc3\xa9fono, correo o usuario. Al menos uno debe proporcionarse.\\n\\nArgs:\\n    telefono: N\xc3\xbamero de tel\xc3\xa9fono con c\xc3\xb3digo de pa\xc3\xads (ej: +5491123456789)\\n    correo: Correo electr\xc3\xb3nico del cliente\\n    usuario: Usuario o agente asignado","inputSchema":{"properties":{"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}},{"name":"create_client","description":"Crea un nuevo cliente (lead) en el CRM con ID autogenerado.\\n\\nArgs:\\n    nombre: Nombre completo del cliente (REQUERIDO)\\n    canal: Canal de origen - debe ser \'whatsapp\' o \'web\' (REQUERIDO)\\n    telefono: N\xc3\xbamero de tel\xc3\xa9fono con c\xc3\xb3digo de pa\xc3\xads\\n    correo: Correo electr\xc3\xb3nico del cliente\\n    nota: Observaciones iniciales sobre el lead\\n    usuario: Usuario o agente que registra el lead","inputSchema":{"properties":{"nombre":{"type":"string"},"canal":{"type":"string"},"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"nota":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"required":["nombre","canal"],"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}},{"name":"update_client","description":"Actualiza los datos de un cliente existente.\\nSolo actualiza los campos proporcionados.\\n\\nArgs:\\n    client_id: ID \xc3\xbanico del cliente (obtenido de verify_client) - REQUERIDO\\n    nombre: Actualizar nombre del cliente\\n    telefono: Actualizar n\xc3\xbamero de tel\xc3\xa9fono\\n    correo: Actualizar correo electr\xc3\xb3nico\\n    tipo: Tipo de cliente (Lead o Cliente)\\n    estado: Estado del lead (Nuevo, Contactado, Calificado, Negociaci\xc3\xb3n, Ganado, Perdido)\\n    nota: Notas de seguimiento o actualizaci\xc3\xb3n\\n    usuario: Reasignar a otro usuario o agente\\n    fecha_conversion: Fecha de conversi\xc3\xb3n a cliente (formato: YYYY-MM-DD HH:MM:SS)","inputSchema":{"properties":{"client_id":{"type":"string"},"nombre":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"tipo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"estado":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"nota":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"fecha_conversion":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"required":["client_id"],"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}}]}}\r\n\r\n'
2025-10-26 08:37:24,538 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:37:26,788 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:37:26,789 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:37:26,793 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x7578f452c530>
2025-10-26 08:37:26,794 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
2025-10-26 08:37:26,794 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type CallToolRequest
2025-10-26 08:37:26,810 - server_module - INFO - ================================================================================
2025-10-26 08:37:26,810 - server_module - INFO - üîÑ LLAMADA A update_client
2025-10-26 08:37:26,810 - server_module - INFO -    client_id: tEbHFy
2025-10-26 08:37:26,810 - server_module - INFO -    nombre: None
2025-10-26 08:37:26,810 - server_module - INFO -    telefono: None
2025-10-26 08:37:26,810 - server_module - INFO -    correo: fordezdeveloper2@gmail.com
2025-10-26 08:37:26,810 - server_module - INFO -    tipo: None
2025-10-26 08:37:26,810 - server_module - INFO -    estado: None
2025-10-26 08:37:26,810 - server_module - INFO -    nota: None
2025-10-26 08:37:26,810 - server_module - INFO -    usuario: None
2025-10-26 08:37:26,810 - server_module - INFO -    fecha_conversion: None
2025-10-26 08:37:26,810 - server_module - INFO - ================================================================================
2025-10-26 08:37:27,373 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E?includeGridData=false HTTP/1.1" 200 None
2025-10-26 08:37:27,710 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E?includeGridData=false HTTP/1.1" 200 None
2025-10-26 08:37:27,922 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27 HTTP/1.1" 200 None
2025-10-26 08:37:27,923 - server_module - INFO - üì§ RESPUESTA update_client: {'success': False, 'error': "Cliente con ID 'tEbHFy' no encontrado"}
2025-10-26 08:37:27,924 - mcp.server.lowlevel.server - DEBUG - Response sent
2025-10-26 08:37:27,924 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x7578f454f080>
2025-10-26 08:37:27,925 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
2025-10-26 08:37:27,925 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type CallToolRequest
2025-10-26 08:37:27,932 - server_module - INFO - ================================================================================
2025-10-26 08:37:27,933 - server_module - INFO - üîç LLAMADA A verify_client
2025-10-26 08:37:27,933 - server_module - INFO -    telefono: +573146964611
2025-10-26 08:37:27,933 - server_module - INFO -    correo: None
2025-10-26 08:37:27,934 - server_module - INFO -    usuario: None
2025-10-26 08:37:27,934 - server_module - INFO - ================================================================================
2025-10-26 08:37:28,174 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E?includeGridData=false HTTP/1.1" 200 None
2025-10-26 08:37:28,397 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E?includeGridData=false HTTP/1.1" 200 None
2025-10-26 08:37:28,735 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27 HTTP/1.1" 200 None
2025-10-26 08:37:28,736 - server_module - INFO - üì§ RESPUESTA verify_client: {'exists': False, 'client_id': None, 'nombre': None, 'telefono': None, 'correo': None, 'tipo': None, 'estado': None, 'canal': None, 'nota': None, 'usuario': None, 'matched_by': None}
2025-10-26 08:37:28,738 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 08:37:28,738 - mcp.server.lowlevel.server - DEBUG - Response sent
2025-10-26 08:37:28,738 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":3,"result":{"content":[{"type":"text","text":"{\\"success\\":false,\\"error\\":\\"Cliente con ID \'tEbHFy\' no encontrado\\"}"}],"structuredContent":{"success":false,"error":"Cliente con ID \'tEbHFy\' no encontrado"},"isError":false}}\r\n\r\n'
2025-10-26 08:37:28,739 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 08:37:28,739 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":2,"result":{"content":[{"type":"text","text":"{\\"exists\\":false,\\"client_id\\":null,\\"nombre\\":null,\\"telefono\\":null,\\"correo\\":null,\\"tipo\\":null,\\"estado\\":null,\\"canal\\":null,\\"nota\\":null,\\"usuario\\":null,\\"matched_by\\":null}"}],"structuredContent":{"exists":false,"client_id":null,"nombre":null,"telefono":null,"correo":null,"tipo":null,"estado":null,"canal":null,"nota":null,"usuario":null,"matched_by":null},"isError":false}}\r\n\r\n'
2025-10-26 08:37:28,739 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:37:28,740 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:37:30,896 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:37:30,897 - mcp.server.streamable_http - DEBUG - Closing standalone SSE writer
2025-10-26 08:37:54,541 - mcp.server.streamable_http_manager - DEBUG - Creating new transport
2025-10-26 08:37:54,541 - mcp.server.streamable_http_manager - INFO - Created new transport with session ID: ac3dcc59f24e479c8fc8c1d0222fb567
2025-10-26 08:37:54,548 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 08:37:54,548 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":0,"result":{"protocolVersion":"2025-03-26","capabilities":{"experimental":{},"prompts":{"listChanged":true},"resources":{"subscribe":false,"listChanged":true},"tools":{"listChanged":true}},"serverInfo":{"name":"CRM Server","version":"1.16.0"}}}\r\n\r\n'
2025-10-26 08:37:54,549 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:37:55,154 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:37:55,154 - mcp.server.lowlevel.server - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-10-26 08:37:55,494 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:37:55,733 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:37:55,734 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x7578f4569bb0>
2025-10-26 08:37:55,735 - mcp.server.lowlevel.server - INFO - Processing request of type ListToolsRequest
2025-10-26 08:37:55,735 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type ListToolsRequest
2025-10-26 08:37:55,735 - mcp.server.lowlevel.server - DEBUG - Response sent
2025-10-26 08:37:55,736 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 08:37:55,736 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":1,"result":{"tools":[{"name":"verify_client","description":"Verifica si un cliente existe en el CRM.\\nBusca por tel\xc3\xa9fono, correo o usuario. Al menos uno debe proporcionarse.\\n\\nArgs:\\n    telefono: N\xc3\xbamero de tel\xc3\xa9fono con c\xc3\xb3digo de pa\xc3\xads (ej: +5491123456789)\\n    correo: Correo electr\xc3\xb3nico del cliente\\n    usuario: Usuario o agente asignado","inputSchema":{"properties":{"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}},{"name":"create_client","description":"Crea un nuevo cliente (lead) en el CRM con ID autogenerado.\\n\\nArgs:\\n    nombre: Nombre completo del cliente (REQUERIDO)\\n    canal: Canal de origen - debe ser \'whatsapp\' o \'web\' (REQUERIDO)\\n    telefono: N\xc3\xbamero de tel\xc3\xa9fono con c\xc3\xb3digo de pa\xc3\xads\\n    correo: Correo electr\xc3\xb3nico del cliente\\n    nota: Observaciones iniciales sobre el lead\\n    usuario: Usuario o agente que registra el lead","inputSchema":{"properties":{"nombre":{"type":"string"},"canal":{"type":"string"},"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"nota":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"required":["nombre","canal"],"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}},{"name":"update_client","description":"Actualiza los datos de un cliente existente.\\nSolo actualiza los campos proporcionados.\\n\\nArgs:\\n    client_id: ID \xc3\xbanico del cliente (obtenido de verify_client) - REQUERIDO\\n    nombre: Actualizar nombre del cliente\\n    telefono: Actualizar n\xc3\xbamero de tel\xc3\xa9fono\\n    correo: Actualizar correo electr\xc3\xb3nico\\n    tipo: Tipo de cliente (Lead o Cliente)\\n    estado: Estado del lead (Nuevo, Contactado, Calificado, Negociaci\xc3\xb3n, Ganado, Perdido)\\n    nota: Notas de seguimiento o actualizaci\xc3\xb3n\\n    usuario: Reasignar a otro usuario o agente\\n    fecha_conversion: Fecha de conversi\xc3\xb3n a cliente (formato: YYYY-MM-DD HH:MM:SS)","inputSchema":{"properties":{"client_id":{"type":"string"},"nombre":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"tipo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"estado":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"nota":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"fecha_conversion":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"required":["client_id"],"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}}]}}\r\n\r\n'
2025-10-26 08:37:55,736 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:37:57,612 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:37:57,613 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x7578f452e6f0>
2025-10-26 08:37:57,613 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
2025-10-26 08:37:57,614 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type CallToolRequest
2025-10-26 08:37:57,618 - server_module - INFO - ================================================================================
2025-10-26 08:37:57,618 - server_module - INFO - üîç LLAMADA A verify_client
2025-10-26 08:37:57,619 - server_module - INFO -    telefono: +573146964611
2025-10-26 08:37:57,619 - server_module - INFO -    correo: None
2025-10-26 08:37:57,619 - server_module - INFO -    usuario: None
2025-10-26 08:37:57,619 - server_module - INFO - ================================================================================
2025-10-26 08:37:57,891 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E?includeGridData=false HTTP/1.1" 200 None
2025-10-26 08:37:58,094 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E?includeGridData=false HTTP/1.1" 200 None
2025-10-26 08:37:58,434 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27 HTTP/1.1" 200 None
2025-10-26 08:37:58,435 - server_module - INFO - üì§ RESPUESTA verify_client: {'exists': False, 'client_id': None, 'nombre': None, 'telefono': None, 'correo': None, 'tipo': None, 'estado': None, 'canal': None, 'nota': None, 'usuario': None, 'matched_by': None}
2025-10-26 08:37:58,436 - mcp.server.lowlevel.server - DEBUG - Response sent
2025-10-26 08:37:58,437 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 08:37:58,438 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":2,"result":{"content":[{"type":"text","text":"{\\"exists\\":false,\\"client_id\\":null,\\"nombre\\":null,\\"telefono\\":null,\\"correo\\":null,\\"tipo\\":null,\\"estado\\":null,\\"canal\\":null,\\"nota\\":null,\\"usuario\\":null,\\"matched_by\\":null}"}],"structuredContent":{"exists":false,"client_id":null,"nombre":null,"telefono":null,"correo":null,"tipo":null,"estado":null,"canal":null,"nota":null,"usuario":null,"matched_by":null},"isError":false}}\r\n\r\n'
2025-10-26 08:37:58,439 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:38:00,376 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:38:00,379 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x7578f4569670>
2025-10-26 08:38:00,379 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
2025-10-26 08:38:00,379 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type CallToolRequest
2025-10-26 08:38:00,398 - server_module - INFO - ================================================================================
2025-10-26 08:38:00,399 - server_module - INFO - ‚ú® LLAMADA A create_client
2025-10-26 08:38:00,399 - server_module - INFO -    nombre: Fernando
2025-10-26 08:38:00,399 - server_module - INFO -    canal: whatsapp
2025-10-26 08:38:00,399 - server_module - INFO -    telefono: +573146964611
2025-10-26 08:38:00,399 - server_module - INFO -    correo: fordezdeveloper2@gmail.com
2025-10-26 08:38:00,400 - server_module - INFO -    nota: None
2025-10-26 08:38:00,400 - server_module - INFO -    usuario: Forde
2025-10-26 08:38:00,400 - server_module - INFO - ================================================================================
2025-10-26 08:38:00,614 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E?includeGridData=false HTTP/1.1" 200 None
2025-10-26 08:38:00,887 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E?includeGridData=false HTTP/1.1" 200 None
2025-10-26 08:38:01,298 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27 HTTP/1.1" 200 None
2025-10-26 08:38:01,708 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27%21A4?valueInputOption=USER_ENTERED HTTP/1.1" 200 None
2025-10-26 08:38:01,980 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27%21B4?valueInputOption=USER_ENTERED HTTP/1.1" 200 None
2025-10-26 08:38:02,222 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27%21C4?valueInputOption=USER_ENTERED HTTP/1.1" 200 None
2025-10-26 08:38:02,472 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27%21D4?valueInputOption=USER_ENTERED HTTP/1.1" 200 None
2025-10-26 08:38:02,673 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27%21E4?valueInputOption=USER_ENTERED HTTP/1.1" 200 None
2025-10-26 08:38:02,885 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27%21F4?valueInputOption=USER_ENTERED HTTP/1.1" 200 None
2025-10-26 08:38:03,091 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27%21G4?valueInputOption=USER_ENTERED HTTP/1.1" 200 None
2025-10-26 08:38:03,345 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27%21H4?valueInputOption=USER_ENTERED HTTP/1.1" 200 None
2025-10-26 08:38:03,565 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27%21I4?valueInputOption=USER_ENTERED HTTP/1.1" 200 None
2025-10-26 08:38:03,857 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27%21J4?valueInputOption=USER_ENTERED HTTP/1.1" 200 None
2025-10-26 08:38:04,061 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27%21K4?valueInputOption=USER_ENTERED HTTP/1.1" 200 None
2025-10-26 08:38:04,062 - server_module - INFO - üì§ RESPUESTA create_client: {'success': True, 'client_id': 'QVo9CC', 'nombre': 'Fernando', 'canal': 'whatsapp', 'message': 'Cliente creado exitosamente'}
2025-10-26 08:38:04,063 - mcp.server.lowlevel.server - DEBUG - Response sent
2025-10-26 08:38:04,064 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 08:38:04,064 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":3,"result":{"content":[{"type":"text","text":"{\\"success\\":true,\\"client_id\\":\\"QVo9CC\\",\\"nombre\\":\\"Fernando\\",\\"canal\\":\\"whatsapp\\",\\"message\\":\\"Cliente creado exitosamente\\"}"}],"structuredContent":{"success":true,"client_id":"QVo9CC","nombre":"Fernando","canal":"whatsapp","message":"Cliente creado exitosamente"},"isError":false}}\r\n\r\n'
2025-10-26 08:38:04,065 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:38:06,359 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:38:06,360 - mcp.server.streamable_http - DEBUG - Closing standalone SSE writer
2025-10-26 08:56:28,973 - mcp.server.streamable_http_manager - DEBUG - Creating new transport
2025-10-26 08:56:28,973 - mcp.server.streamable_http_manager - INFO - Created new transport with session ID: 875edb724ba04b2ca83a591a746eec33
2025-10-26 08:56:28,980 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 08:56:28,981 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":0,"result":{"protocolVersion":"2025-03-26","capabilities":{"experimental":{},"prompts":{"listChanged":true},"resources":{"subscribe":false,"listChanged":true},"tools":{"listChanged":true}},"serverInfo":{"name":"CRM Server","version":"1.16.0"}}}\r\n\r\n'
2025-10-26 08:56:28,982 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:56:29,707 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:56:29,708 - mcp.server.lowlevel.server - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-10-26 08:56:30,049 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:56:30,271 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:56:30,273 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x7578f4569370>
2025-10-26 08:56:30,274 - mcp.server.lowlevel.server - INFO - Processing request of type ListToolsRequest
2025-10-26 08:56:30,274 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type ListToolsRequest
2025-10-26 08:56:30,274 - mcp.server.lowlevel.server - DEBUG - Response sent
2025-10-26 08:56:30,275 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 08:56:30,275 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":1,"result":{"tools":[{"name":"verify_client","description":"Verifica si un cliente existe en el CRM.\\nBusca por tel\xc3\xa9fono, correo o usuario. Al menos uno debe proporcionarse.\\n\\nArgs:\\n    telefono: N\xc3\xbamero de tel\xc3\xa9fono con c\xc3\xb3digo de pa\xc3\xads (ej: +5491123456789)\\n    correo: Correo electr\xc3\xb3nico del cliente\\n    usuario: Usuario o agente asignado","inputSchema":{"properties":{"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}},{"name":"create_client","description":"Crea un nuevo cliente (lead) en el CRM con ID autogenerado.\\n\\nArgs:\\n    nombre: Nombre completo del cliente (REQUERIDO)\\n    canal: Canal de origen - debe ser \'whatsapp\' o \'web\' (REQUERIDO)\\n    telefono: N\xc3\xbamero de tel\xc3\xa9fono con c\xc3\xb3digo de pa\xc3\xads\\n    correo: Correo electr\xc3\xb3nico del cliente\\n    nota: Observaciones iniciales sobre el lead\\n    usuario: Usuario o agente que registra el lead","inputSchema":{"properties":{"nombre":{"type":"string"},"canal":{"type":"string"},"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"nota":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"required":["nombre","canal"],"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}},{"name":"update_client","description":"Actualiza los datos de un cliente existente.\\nSolo actualiza los campos proporcionados.\\n\\nArgs:\\n    client_id: ID \xc3\xbanico del cliente (obtenido de verify_client) - REQUERIDO\\n    nombre: Actualizar nombre del cliente\\n    telefono: Actualizar n\xc3\xbamero de tel\xc3\xa9fono\\n    correo: Actualizar correo electr\xc3\xb3nico\\n    tipo: Tipo de cliente (Lead o Cliente)\\n    estado: Estado del lead (Nuevo, Contactado, Calificado, Negociaci\xc3\xb3n, Ganado, Perdido)\\n    nota: Notas de seguimiento o actualizaci\xc3\xb3n\\n    usuario: Reasignar a otro usuario o agente\\n    fecha_conversion: Fecha de conversi\xc3\xb3n a cliente (formato: YYYY-MM-DD HH:MM:SS)","inputSchema":{"properties":{"client_id":{"type":"string"},"nombre":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"tipo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"estado":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"nota":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"fecha_conversion":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"required":["client_id"],"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}}]}}\r\n\r\n'
2025-10-26 08:56:30,276 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:56:32,652 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 08:56:32,654 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x7578f4387230>
2025-10-26 08:56:32,654 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
2025-10-26 08:56:32,655 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type CallToolRequest
2025-10-26 08:56:32,661 - server_module - INFO - ================================================================================
2025-10-26 08:56:32,662 - server_module - INFO - üîç LLAMADA A verify_client
2025-10-26 08:56:32,662 - server_module - INFO -    telefono: +573146964611
2025-10-26 08:56:32,662 - server_module - INFO -    correo: None
2025-10-26 08:56:32,662 - server_module - INFO -    usuario: None
2025-10-26 08:56:32,662 - server_module - INFO - ================================================================================
2025-10-26 08:56:32,663 - urllib3.connectionpool - DEBUG - Resetting dropped connection: sheets.googleapis.com
2025-10-26 08:56:33,354 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E?includeGridData=false HTTP/1.1" 200 None
2025-10-26 08:56:33,690 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E?includeGridData=false HTTP/1.1" 200 None
2025-10-26 08:56:33,883 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27 HTTP/1.1" 200 None
2025-10-26 08:56:33,884 - server_module - INFO - üì§ RESPUESTA verify_client: {'exists': False, 'client_id': None, 'nombre': None, 'telefono': None, 'correo': None, 'tipo': None, 'estado': None, 'canal': None, 'nota': None, 'usuario': None, 'matched_by': None}
2025-10-26 08:56:33,888 - mcp.server.lowlevel.server - DEBUG - Response sent
2025-10-26 08:56:33,889 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 08:56:33,889 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":2,"result":{"content":[{"type":"text","text":"{\\"exists\\":false,\\"client_id\\":null,\\"nombre\\":null,\\"telefono\\":null,\\"correo\\":null,\\"tipo\\":null,\\"estado\\":null,\\"canal\\":null,\\"nota\\":null,\\"usuario\\":null,\\"matched_by\\":null}"}],"structuredContent":{"exists":false,"client_id":null,"nombre":null,"telefono":null,"correo":null,"tipo":null,"estado":null,"canal":null,"nota":null,"usuario":null,"matched_by":null},"isError":false}}\r\n\r\n'
2025-10-26 08:56:33,890 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:56:35,578 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 08:56:35,578 - mcp.server.streamable_http - DEBUG - Closing standalone SSE writer
2025-10-26 09:05:15,099 - mcp.server.streamable_http_manager - INFO - StreamableHTTP session manager shutting down
2025-10-26 09:08:17,135 - mcp.server.lowlevel.server - DEBUG - Initializing server 'CRM Server'
2025-10-26 09:08:17,135 - mcp.server.lowlevel.server - DEBUG - Registering handler for ListToolsRequest
2025-10-26 09:08:17,135 - mcp.server.lowlevel.server - DEBUG - Registering handler for ListResourcesRequest
2025-10-26 09:08:17,136 - mcp.server.lowlevel.server - DEBUG - Registering handler for ListResourceTemplatesRequest
2025-10-26 09:08:17,136 - mcp.server.lowlevel.server - DEBUG - Registering handler for PromptListRequest
2025-10-26 09:08:17,136 - mcp.server.lowlevel.server - DEBUG - Registering handler for CallToolRequest
2025-10-26 09:08:17,136 - mcp.server.lowlevel.server - DEBUG - Registering handler for ReadResourceRequest
2025-10-26 09:08:17,136 - mcp.server.lowlevel.server - DEBUG - Registering handler for GetPromptRequest
2025-10-26 09:08:17,201 - mcp.server.streamable_http_manager - INFO - StreamableHTTP session manager started
2025-10-26 09:08:37,573 - mcp.server.streamable_http_manager - DEBUG - Creating new transport
2025-10-26 09:08:37,574 - mcp.server.streamable_http_manager - INFO - Created new transport with session ID: bf9a776bf20040708eea5b7aef27d4c9
2025-10-26 09:08:37,586 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 09:08:37,587 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":0,"result":{"protocolVersion":"2025-03-26","capabilities":{"experimental":{},"prompts":{"listChanged":true},"resources":{"subscribe":false,"listChanged":true},"tools":{"listChanged":true}},"serverInfo":{"name":"CRM Server","version":"1.16.0"}}}\r\n\r\n'
2025-10-26 09:08:37,589 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 09:08:38,198 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 09:08:38,199 - mcp.server.lowlevel.server - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-10-26 09:08:38,540 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 09:08:38,767 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 09:08:38,770 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x72d5ef5b7b90>
2025-10-26 09:08:38,770 - mcp.server.lowlevel.server - INFO - Processing request of type ListToolsRequest
2025-10-26 09:08:38,771 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type ListToolsRequest
2025-10-26 09:08:38,772 - mcp.server.lowlevel.server - DEBUG - Response sent
2025-10-26 09:08:38,772 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 09:08:38,773 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":1,"result":{"tools":[{"name":"verify_client","description":"Verifica si un cliente existe en el CRM.\\nBusca por tel\xc3\xa9fono, correo o usuario. Al menos uno debe proporcionarse.\\n\\nArgs:\\n    telefono: N\xc3\xbamero de tel\xc3\xa9fono con c\xc3\xb3digo de pa\xc3\xads (ej: +5491123456789)\\n    correo: Correo electr\xc3\xb3nico del cliente\\n    usuario: Usuario o agente asignado","inputSchema":{"properties":{"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}},{"name":"create_client","description":"Crea un nuevo cliente (lead) en el CRM con ID autogenerado.\\n\\nArgs:\\n    nombre: Nombre completo del cliente (REQUERIDO)\\n    canal: Canal de origen - debe ser \'whatsapp\' o \'web\' (REQUERIDO)\\n    telefono: N\xc3\xbamero de tel\xc3\xa9fono con c\xc3\xb3digo de pa\xc3\xads\\n    correo: Correo electr\xc3\xb3nico del cliente\\n    nota: Observaciones iniciales sobre el lead\\n    usuario: Usuario o agente que registra el lead","inputSchema":{"properties":{"nombre":{"type":"string"},"canal":{"type":"string"},"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"nota":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"required":["nombre","canal"],"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}},{"name":"update_client","description":"Actualiza los datos de un cliente existente.\\nSolo actualiza los campos proporcionados.\\n\\nArgs:\\n    client_id: ID \xc3\xbanico del cliente (obtenido de verify_client) - REQUERIDO\\n    nombre: Actualizar nombre del cliente\\n    telefono: Actualizar n\xc3\xbamero de tel\xc3\xa9fono\\n    correo: Actualizar correo electr\xc3\xb3nico\\n    tipo: Tipo de cliente (Lead o Cliente)\\n    estado: Estado del lead (Nuevo, Contactado, Calificado, Negociaci\xc3\xb3n, Ganado, Perdido)\\n    nota: Notas de seguimiento o actualizaci\xc3\xb3n\\n    usuario: Reasignar a otro usuario o agente\\n    fecha_conversion: Fecha de conversi\xc3\xb3n a cliente (formato: YYYY-MM-DD HH:MM:SS)","inputSchema":{"properties":{"client_id":{"type":"string"},"nombre":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"tipo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"estado":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"nota":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"fecha_conversion":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"required":["client_id"],"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}}]}}\r\n\r\n'
2025-10-26 09:08:38,774 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 09:08:40,304 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 09:08:40,306 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x72d5ef5d2f30>
2025-10-26 09:08:40,308 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
2025-10-26 09:08:40,308 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type CallToolRequest
2025-10-26 09:08:40,320 - server_module - INFO - ================================================================================
2025-10-26 09:08:40,320 - server_module - INFO - üîç LLAMADA A verify_client
2025-10-26 09:08:40,320 - server_module - INFO -    telefono: +573146964611
2025-10-26 09:08:40,320 - server_module - INFO -    correo: None
2025-10-26 09:08:40,320 - server_module - INFO -    usuario: None
2025-10-26 09:08:40,320 - server_module - INFO - ================================================================================
2025-10-26 09:08:40,329 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-10-26 09:08:40,743 - urllib3.connectionpool - DEBUG - https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-10-26 09:08:40,749 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): sheets.googleapis.com:443
2025-10-26 09:08:41,475 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E?includeGridData=false HTTP/1.1" 200 None
2025-10-26 09:08:41,781 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E?includeGridData=false HTTP/1.1" 200 None
2025-10-26 09:08:42,089 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27 HTTP/1.1" 200 None
2025-10-26 09:08:42,090 - server_module - INFO - üì§ RESPUESTA verify_client: {'exists': True, 'client_id': 'QVo9CC', 'nombre': 'Fernando', 'telefono': 573146964611, 'correo': 'fordezdeveloper2@gmail.com', 'tipo': 'Lead', 'estado': 'Nuevo', 'canal': 'whatsapp', 'nota': '', 'usuario': 'Forde', 'matched_by': 'telefono'}
2025-10-26 09:08:42,092 - mcp.server.lowlevel.server - DEBUG - Response sent
2025-10-26 09:08:42,092 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 09:08:42,093 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":2,"result":{"content":[{"type":"text","text":"{\\"exists\\":true,\\"client_id\\":\\"QVo9CC\\",\\"nombre\\":\\"Fernando\\",\\"telefono\\":573146964611,\\"correo\\":\\"fordezdeveloper2@gmail.com\\",\\"tipo\\":\\"Lead\\",\\"estado\\":\\"Nuevo\\",\\"canal\\":\\"whatsapp\\",\\"nota\\":\\"\\",\\"usuario\\":\\"Forde\\",\\"matched_by\\":\\"telefono\\"}"}],"structuredContent":{"exists":true,"client_id":"QVo9CC","nombre":"Fernando","telefono":573146964611,"correo":"fordezdeveloper2@gmail.com","tipo":"Lead","estado":"Nuevo","canal":"whatsapp","nota":"","usuario":"Forde","matched_by":"telefono"},"isError":false}}\r\n\r\n'
2025-10-26 09:08:42,093 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 09:08:43,379 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 09:08:43,379 - mcp.server.streamable_http - DEBUG - Closing standalone SSE writer
2025-10-26 09:11:10,572 - mcp.server.streamable_http_manager - DEBUG - Creating new transport
2025-10-26 09:11:10,572 - mcp.server.streamable_http_manager - INFO - Created new transport with session ID: ced6321917974041a3c963faf2c99c5e
2025-10-26 09:11:10,579 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 09:11:10,579 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":0,"result":{"protocolVersion":"2025-03-26","capabilities":{"experimental":{},"prompts":{"listChanged":true},"resources":{"subscribe":false,"listChanged":true},"tools":{"listChanged":true}},"serverInfo":{"name":"CRM Server","version":"1.16.0"}}}\r\n\r\n'
2025-10-26 09:11:10,580 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 09:11:11,386 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 09:11:11,387 - mcp.server.lowlevel.server - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-10-26 09:11:11,724 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 09:11:11,945 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 09:11:11,947 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x72d5ef604290>
2025-10-26 09:11:11,947 - mcp.server.lowlevel.server - INFO - Processing request of type ListToolsRequest
2025-10-26 09:11:11,947 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type ListToolsRequest
2025-10-26 09:11:11,948 - mcp.server.lowlevel.server - DEBUG - Response sent
2025-10-26 09:11:11,948 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 09:11:11,949 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":1,"result":{"tools":[{"name":"verify_client","description":"Verifica si un cliente existe en el CRM.\\nBusca por tel\xc3\xa9fono, correo o usuario. Al menos uno debe proporcionarse.\\n\\nArgs:\\n    telefono: N\xc3\xbamero de tel\xc3\xa9fono con c\xc3\xb3digo de pa\xc3\xads (ej: +5491123456789)\\n    correo: Correo electr\xc3\xb3nico del cliente\\n    usuario: Usuario o agente asignado","inputSchema":{"properties":{"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}},{"name":"create_client","description":"Crea un nuevo cliente (lead) en el CRM con ID autogenerado.\\n\\nArgs:\\n    nombre: Nombre completo del cliente (REQUERIDO)\\n    canal: Canal de origen - debe ser \'whatsapp\' o \'web\' (REQUERIDO)\\n    telefono: N\xc3\xbamero de tel\xc3\xa9fono con c\xc3\xb3digo de pa\xc3\xads\\n    correo: Correo electr\xc3\xb3nico del cliente\\n    nota: Observaciones iniciales sobre el lead\\n    usuario: Usuario o agente que registra el lead","inputSchema":{"properties":{"nombre":{"type":"string"},"canal":{"type":"string"},"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"nota":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"required":["nombre","canal"],"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}},{"name":"update_client","description":"Actualiza los datos de un cliente existente.\\nSolo actualiza los campos proporcionados.\\n\\nArgs:\\n    client_id: ID \xc3\xbanico del cliente (obtenido de verify_client) - REQUERIDO\\n    nombre: Actualizar nombre del cliente\\n    telefono: Actualizar n\xc3\xbamero de tel\xc3\xa9fono\\n    correo: Actualizar correo electr\xc3\xb3nico\\n    tipo: Tipo de cliente (Lead o Cliente)\\n    estado: Estado del lead (Nuevo, Contactado, Calificado, Negociaci\xc3\xb3n, Ganado, Perdido)\\n    nota: Notas de seguimiento o actualizaci\xc3\xb3n\\n    usuario: Reasignar a otro usuario o agente\\n    fecha_conversion: Fecha de conversi\xc3\xb3n a cliente (formato: YYYY-MM-DD HH:MM:SS)","inputSchema":{"properties":{"client_id":{"type":"string"},"nombre":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"tipo":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"estado":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"nota":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null},"fecha_conversion":{"anyOf":[{"type":"string"},{"type":"null"}],"default":null}},"required":["client_id"],"type":"object"},"outputSchema":{"additionalProperties":true,"type":"object"},"_meta":{"_fastmcp":{"tags":[]}}}]}}\r\n\r\n'
2025-10-26 09:11:11,949 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 09:11:13,733 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 09:11:13,735 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x72d5ef604200>
2025-10-26 09:11:13,735 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
2025-10-26 09:11:13,735 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type CallToolRequest
2025-10-26 09:11:13,745 - server_module - INFO - ================================================================================
2025-10-26 09:11:13,745 - server_module - INFO - üîç LLAMADA A verify_client
2025-10-26 09:11:13,745 - server_module - INFO -    telefono: +573146964611
2025-10-26 09:11:13,745 - server_module - INFO -    correo: None
2025-10-26 09:11:13,745 - server_module - INFO -    usuario: None
2025-10-26 09:11:13,745 - server_module - INFO - ================================================================================
2025-10-26 09:11:14,252 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E?includeGridData=false HTTP/1.1" 200 None
2025-10-26 09:11:14,560 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E?includeGridData=false HTTP/1.1" 200 None
2025-10-26 09:11:14,970 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27 HTTP/1.1" 200 None
2025-10-26 09:11:14,971 - server_module - INFO - üì§ RESPUESTA verify_client: {'exists': True, 'client_id': 'QVo9CC', 'nombre': 'Fernando', 'telefono': 573146964611, 'correo': 'fordezdeveloper2@gmail.com', 'tipo': 'Lead', 'estado': 'Nuevo', 'canal': 'whatsapp', 'nota': '', 'usuario': 'Forde', 'matched_by': 'telefono'}
2025-10-26 09:11:14,972 - mcp.server.lowlevel.server - DEBUG - Response sent
2025-10-26 09:11:14,973 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 09:11:14,973 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":2,"result":{"content":[{"type":"text","text":"{\\"exists\\":true,\\"client_id\\":\\"QVo9CC\\",\\"nombre\\":\\"Fernando\\",\\"telefono\\":573146964611,\\"correo\\":\\"fordezdeveloper2@gmail.com\\",\\"tipo\\":\\"Lead\\",\\"estado\\":\\"Nuevo\\",\\"canal\\":\\"whatsapp\\",\\"nota\\":\\"\\",\\"usuario\\":\\"Forde\\",\\"matched_by\\":\\"telefono\\"}"}],"structuredContent":{"exists":true,"client_id":"QVo9CC","nombre":"Fernando","telefono":573146964611,"correo":"fordezdeveloper2@gmail.com","tipo":"Lead","estado":"Nuevo","canal":"whatsapp","nota":"","usuario":"Forde","matched_by":"telefono"},"isError":false}}\r\n\r\n'
2025-10-26 09:11:14,974 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 09:11:16,412 - mcp.server.streamable_http_manager - DEBUG - Session already exists, handling request directly
2025-10-26 09:11:16,415 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x72d5ef61f1a0>
2025-10-26 09:11:16,416 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
2025-10-26 09:11:16,416 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type CallToolRequest
2025-10-26 09:11:16,434 - server_module - INFO - ================================================================================
2025-10-26 09:11:16,435 - server_module - INFO - üîÑ LLAMADA A update_client
2025-10-26 09:11:16,435 - server_module - INFO -    client_id: QVo9CC
2025-10-26 09:11:16,435 - server_module - INFO -    nombre: Jaime
2025-10-26 09:11:16,435 - server_module - INFO -    telefono: None
2025-10-26 09:11:16,435 - server_module - INFO -    correo: None
2025-10-26 09:11:16,435 - server_module - INFO -    tipo: None
2025-10-26 09:11:16,435 - server_module - INFO -    estado: None
2025-10-26 09:11:16,435 - server_module - INFO -    nota: None
2025-10-26 09:11:16,435 - server_module - INFO -    usuario: None
2025-10-26 09:11:16,435 - server_module - INFO -    fecha_conversion: None
2025-10-26 09:11:16,435 - server_module - INFO - ================================================================================
2025-10-26 09:11:16,777 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E?includeGridData=false HTTP/1.1" 200 None
2025-10-26 09:11:17,136 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E?includeGridData=false HTTP/1.1" 200 None
2025-10-26 09:11:17,427 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27 HTTP/1.1" 200 None
2025-10-26 09:11:17,733 - urllib3.connectionpool - DEBUG - https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1evcXPBlNMgqFAJyp2N-T3WpnQPrH3LU2OrQfT2jnr5E/values/%27Lead%27%21B4?valueInputOption=USER_ENTERED HTTP/1.1" 200 None
2025-10-26 09:11:17,734 - server_module - INFO - üì§ RESPUESTA update_client: {'success': True, 'client_id': 'QVo9CC', 'updated_fields': ['Nombre'], 'message': 'Cliente actualizado: 1 campos modificados'}
2025-10-26 09:11:17,736 - mcp.server.lowlevel.server - DEBUG - Response sent
2025-10-26 09:11:17,737 - mcp.server.streamable_http - DEBUG - Closing SSE writer
2025-10-26 09:11:17,737 - sse_starlette.sse - DEBUG - chunk: b'event: message\r\ndata: {"jsonrpc":"2.0","id":3,"result":{"content":[{"type":"text","text":"{\\"success\\":true,\\"client_id\\":\\"QVo9CC\\",\\"updated_fields\\":[\\"Nombre\\"],\\"message\\":\\"Cliente actualizado: 1 campos modificados\\"}"}],"structuredContent":{"success":true,"client_id":"QVo9CC","updated_fields":["Nombre"],"message":"Cliente actualizado: 1 campos modificados"},"isError":false}}\r\n\r\n'
2025-10-26 09:11:17,738 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 09:11:19,580 - sse_starlette.sse - DEBUG - Got event: http.disconnect. Stop streaming.
2025-10-26 09:11:19,581 - mcp.server.streamable_http - DEBUG - Closing standalone SSE writer
2025-10-26 09:17:45,121 - mcp.server.streamable_http_manager - INFO - StreamableHTTP session manager shutting down
2025-10-26 09:52:39,246 - INFO - StreamableHTTP session manager started
2025-10-26 09:53:37,002 - INFO - Created new transport with session ID: 20e25726577647db9fd80673d3bfb647
2025-10-26 09:53:38,222 - INFO - Processing request of type ListToolsRequest
2025-10-26 09:53:40,278 - INFO - Processing request of type CallToolRequest
2025-10-26 09:53:40,283 - INFO - üîç LLAMADA A verify_client | tel: 573146964611, correo: None, usuario: None
2025-10-26 09:53:42,507 - INFO - üì§ RESPUESTA verify_client: exists=False, id=None
2025-10-26 09:57:31,194 - INFO - Created new transport with session ID: d0f495738aa84e7d885a011167cd0779
2025-10-26 09:57:32,370 - INFO - Processing request of type ListToolsRequest
2025-10-26 09:57:34,072 - INFO - Processing request of type CallToolRequest
2025-10-26 09:57:34,077 - INFO - üîç LLAMADA A verify_client | tel: 573146964611, correo: None, usuario: Fordez
2025-10-26 09:57:35,005 - INFO - üì§ RESPUESTA verify_client: exists=False, id=None
2025-10-26 09:57:46,965 - INFO - Created new transport with session ID: 32a4f8d9c5234a78bda39f48069c3f70
2025-10-26 09:57:48,107 - INFO - Processing request of type ListToolsRequest
2025-10-26 09:57:49,674 - INFO - Processing request of type CallToolRequest
2025-10-26 09:57:49,684 - INFO - üîç LLAMADA A verify_client | tel: 573146964611, correo: None, usuario: None
2025-10-26 09:57:50,824 - INFO - üì§ RESPUESTA verify_client: exists=False, id=None
2025-10-26 09:57:53,116 - INFO - Processing request of type CallToolRequest
2025-10-26 09:57:53,126 - INFO - ‚ú® LLAMADA A create_client | nombre: Fernando, canal: whatsapp
2025-10-26 09:57:58,021 - INFO - üì§ RESPUESTA create_client: success=True, id=t32LKk
2025-10-26 09:58:12,770 - INFO - Created new transport with session ID: d10a709926bb4886bf40116d8e2c8f1a
2025-10-26 09:58:13,907 - INFO - Processing request of type ListToolsRequest
2025-10-26 09:58:15,946 - INFO - Processing request of type CallToolRequest
2025-10-26 09:58:15,951 - INFO - üîç LLAMADA A verify_client | tel: 573146964611, correo: None, usuario: None
2025-10-26 09:58:16,769 - INFO - üì§ RESPUESTA verify_client: exists=True, id=t32LKk
2025-10-26 09:58:19,129 - INFO - Processing request of type CallToolRequest
2025-10-26 09:58:19,130 - INFO - ‚úèÔ∏è LLAMADA A update_client_interest | client_id: t32LKk
2025-10-26 09:58:19,131 - ERROR - ‚ùå ERROR update_client_interest: CRMService.update_client() got an unexpected keyword argument 'nota'
Traceback (most recent call last):
  File "/home/fordez/agestudio-mcp/mcp.py", line 132, in update_client_interest
    result_nota = CRMService.update_client(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: CRMService.update_client() got an unexpected keyword argument 'nota'
2025-10-26 09:58:50,604 - INFO - Created new transport with session ID: b2457e6a3d5842aca34c4e312df71113
2025-10-26 09:58:51,833 - INFO - Processing request of type ListToolsRequest
2025-10-26 09:58:53,260 - INFO - Processing request of type CallToolRequest
2025-10-26 09:58:53,268 - INFO - üîç LLAMADA A verify_client | tel: 573146964611, correo: None, usuario: None
2025-10-26 09:58:54,089 - INFO - üì§ RESPUESTA verify_client: exists=True, id=t32LKk
2025-10-26 09:58:56,230 - INFO - Processing request of type CallToolRequest
2025-10-26 09:58:56,234 - INFO - ‚úèÔ∏è LLAMADA A update_client_interest | client_id: t32LKk
2025-10-26 09:58:56,234 - ERROR - ‚ùå ERROR update_client_interest: CRMService.update_client() got an unexpected keyword argument 'nota'
Traceback (most recent call last):
  File "/home/fordez/agestudio-mcp/mcp.py", line 132, in update_client_interest
    result_nota = CRMService.update_client(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: CRMService.update_client() got an unexpected keyword argument 'nota'
2025-10-26 09:59:11,197 - INFO - Created new transport with session ID: 7d9643b3bae14078a1c8de4829ec893d
2025-10-26 09:59:12,385 - INFO - Processing request of type ListToolsRequest
2025-10-26 09:59:14,212 - INFO - Processing request of type CallToolRequest
2025-10-26 09:59:14,216 - INFO - üîç LLAMADA A verify_client | tel: 573146964611, correo: None, usuario: None
2025-10-26 09:59:15,021 - INFO - üì§ RESPUESTA verify_client: exists=True, id=t32LKk
2025-10-26 09:59:16,908 - INFO - Processing request of type CallToolRequest
2025-10-26 09:59:16,916 - INFO - üîÑ LLAMADA A update_client | client_id: t32LKk
2025-10-26 09:59:18,259 - INFO - üì§ RESPUESTA update_client: success=True, updated_fields=['Nombre', 'Tipo']
2025-10-26 09:59:39,402 - INFO - Created new transport with session ID: 19a61f803d214a08b516a90ba88e640e
2025-10-26 09:59:40,575 - INFO - Processing request of type ListToolsRequest
2025-10-26 09:59:44,013 - INFO - Processing request of type CallToolRequest
2025-10-26 09:59:44,022 - INFO - üîç LLAMADA A verify_client | tel: 573146964611, correo: None, usuario: None
2025-10-26 09:59:44,930 - INFO - üì§ RESPUESTA verify_client: exists=True, id=t32LKk
2025-10-26 09:59:47,902 - INFO - Processing request of type CallToolRequest
2025-10-26 09:59:47,910 - INFO - üîÑ LLAMADA A update_client | client_id: t32LKk
2025-10-26 09:59:50,031 - INFO - üì§ RESPUESTA update_client: success=True, updated_fields=['Nombre', 'Correo', 'Tipo', 'Usuario']
2025-10-26 10:04:00,166 - INFO - StreamableHTTP session manager shutting down
2025-10-26 10:04:02,548 - INFO - StreamableHTTP session manager started
2025-10-26 10:04:12,229 - INFO - Created new transport with session ID: 6955c973452c49269766361b7021a856
2025-10-26 10:04:13,378 - INFO - Processing request of type ListToolsRequest
2025-10-26 10:04:15,272 - INFO - Processing request of type CallToolRequest
2025-10-26 10:04:15,277 - INFO - üîç LLAMADA A verify_client | tel: 573146964611, correo: None, usuario: None
2025-10-26 10:04:17,220 - INFO - üì§ RESPUESTA verify_client: exists=False, id=None
2025-10-26 10:04:26,639 - INFO - Created new transport with session ID: fd998c9cf3bf4338931d7155db5d030c
2025-10-26 10:04:27,915 - INFO - Processing request of type ListToolsRequest
2025-10-26 10:04:29,323 - INFO - Processing request of type CallToolRequest
2025-10-26 10:04:29,329 - INFO - üîç LLAMADA A verify_client | tel: 573146964611, correo: None, usuario: None
2025-10-26 10:04:30,529 - INFO - üì§ RESPUESTA verify_client: exists=False, id=None
2025-10-26 10:04:45,992 - INFO - Created new transport with session ID: 8e41e255f5a349b5b904a3467f4012e9
2025-10-26 10:04:47,327 - INFO - Processing request of type ListToolsRequest
2025-10-26 10:04:50,193 - INFO - Processing request of type CallToolRequest
2025-10-26 10:04:50,205 - INFO - üîç LLAMADA A verify_client | tel: 573146964611, correo: None, usuario: None
2025-10-26 10:04:51,184 - INFO - üì§ RESPUESTA verify_client: exists=False, id=None
2025-10-26 10:04:51,188 - INFO - Processing request of type CallToolRequest
2025-10-26 10:04:51,215 - INFO - üîÑ LLAMADA A update_client | client_id: 573146964611
2025-10-26 10:04:52,267 - INFO - üì§ RESPUESTA update_client: success=False, updated_fields=None
2025-10-26 10:05:23,472 - INFO - Created new transport with session ID: 3cf6b038377043b39fe120728de38e73
2025-10-26 10:05:24,850 - INFO - Processing request of type ListToolsRequest
2025-10-26 10:05:26,646 - INFO - Processing request of type CallToolRequest
2025-10-26 10:05:26,650 - INFO - üîç LLAMADA A verify_client | tel: 573146964611, correo: None, usuario: None
2025-10-26 10:05:27,876 - INFO - üì§ RESPUESTA verify_client: exists=False, id=None
2025-10-26 10:05:29,615 - INFO - Processing request of type CallToolRequest
2025-10-26 10:05:29,635 - INFO - ‚ú® LLAMADA A create_client | nombre: Fernando, canal: whatsapp
2025-10-26 10:05:33,843 - INFO - üì§ RESPUESTA create_client: success=True, id=dm35oQ
2025-10-26 10:05:50,007 - INFO - Created new transport with session ID: 335a9c9ddf9f41a2a8a1b89dce535b9e
2025-10-26 10:05:51,152 - INFO - Processing request of type ListToolsRequest
2025-10-26 10:05:52,863 - INFO - Processing request of type CallToolRequest
2025-10-26 10:05:52,867 - INFO - üîç LLAMADA A verify_client | tel: 573146964611, correo: None, usuario: None
2025-10-26 10:05:53,711 - INFO - üì§ RESPUESTA verify_client: exists=True, id=dm35oQ
2025-10-26 10:06:14,676 - INFO - Created new transport with session ID: d79bcf5ca2b14beb86317c8d927d7046
2025-10-26 10:06:15,815 - INFO - Processing request of type ListToolsRequest
2025-10-26 10:06:17,610 - INFO - Processing request of type CallToolRequest
2025-10-26 10:06:17,616 - INFO - üîç LLAMADA A verify_client | tel: 573146964611, correo: None, usuario: None
2025-10-26 10:06:18,460 - INFO - üì§ RESPUESTA verify_client: exists=True, id=dm35oQ
2025-10-26 10:06:21,283 - INFO - Processing request of type CallToolRequest
2025-10-26 10:06:21,293 - INFO - ‚úèÔ∏è LLAMADA A update_client_interest | client_id: dm35oQ
2025-10-26 10:06:21,294 - ERROR - ‚ùå ERROR update_client_interest: CRMService.update_client() got an unexpected keyword argument 'nota'
Traceback (most recent call last):
  File "/home/fordez/agestudio-mcp/mcp.py", line 132, in update_client_interest
    result_nota = CRMService.update_client(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: CRMService.update_client() got an unexpected keyword argument 'nota'
2025-10-26 10:06:43,243 - INFO - Created new transport with session ID: 1c46fbc144ea4e27bcc741ab471b2ef7
2025-10-26 10:06:44,421 - INFO - Processing request of type ListToolsRequest
2025-10-26 10:06:48,092 - INFO - Processing request of type CallToolRequest
2025-10-26 10:06:48,097 - INFO - üîç LLAMADA A verify_client | tel: None, correo: None, usuario: Fordez
2025-10-26 10:06:49,047 - INFO - üì§ RESPUESTA verify_client: exists=True, id=dm35oQ
2025-10-26 10:06:49,048 - INFO - Processing request of type CallToolRequest
2025-10-26 10:06:49,057 - INFO - üîç LLAMADA A verify_client | tel: 573146964611, correo: None, usuario: None
2025-10-26 10:06:49,897 - INFO - üì§ RESPUESTA verify_client: exists=True, id=dm35oQ
2025-10-26 10:07:14,886 - INFO - Created new transport with session ID: f9f5032d7ba2479eb8183caf8f46fbde
2025-10-26 10:07:16,061 - INFO - Processing request of type ListToolsRequest
2025-10-26 10:07:18,228 - INFO - Processing request of type CallToolRequest
2025-10-26 10:07:18,243 - INFO - ‚ú® LLAMADA A create_client | nombre: Fernando, canal: whatsapp
2025-10-26 10:07:21,834 - INFO - üì§ RESPUESTA create_client: success=True, id=rhj4Wv
2025-10-26 10:07:21,836 - INFO - Processing request of type CallToolRequest
2025-10-26 10:07:21,842 - INFO - üîç LLAMADA A verify_client | tel: 573146964611, correo: None, usuario: None
2025-10-26 10:07:22,528 - INFO - üì§ RESPUESTA verify_client: exists=True, id=dm35oQ
2025-10-26 10:11:47,084 - INFO - StreamableHTTP session manager shutting down
2025-10-26 10:11:49,456 - INFO - StreamableHTTP session manager started
2025-10-26 10:14:26,470 - INFO - Created new transport with session ID: 0e287bd02e324a0895a5f1a440ff20ec
2025-10-26 10:14:27,656 - INFO - Processing request of type ListToolsRequest
2025-10-26 10:14:29,270 - INFO - Processing request of type CallToolRequest
2025-10-26 10:14:29,280 - INFO - üîç LLAMADA A verify_client | tel: 573146964611, correo: None, usuario: None
2025-10-26 10:14:31,623 - INFO - üì§ RESPUESTA verify_client: exists=False, id=None
2025-10-26 10:14:42,788 - INFO - Created new transport with session ID: 66786c1835564d98a25c2681b8a3f1da
2025-10-26 10:14:43,972 - INFO - Processing request of type ListToolsRequest
2025-10-26 10:14:45,654 - INFO - Processing request of type CallToolRequest
2025-10-26 10:14:45,664 - INFO - üîç LLAMADA A verify_client | tel: 573146964611, correo: None, usuario: None
2025-10-26 10:14:46,984 - INFO - üì§ RESPUESTA verify_client: exists=False, id=None
2025-10-26 10:15:07,159 - INFO - Created new transport with session ID: e8c8a3105eb24067923122dfc6c7f27f
2025-10-26 10:15:08,342 - INFO - Processing request of type ListToolsRequest
2025-10-26 10:15:10,538 - INFO - Processing request of type CallToolRequest
2025-10-26 10:15:10,549 - INFO - üîç LLAMADA A verify_client | tel: 573146964611, correo: None, usuario: None
2025-10-26 10:15:11,356 - INFO - üì§ RESPUESTA verify_client: exists=False, id=None
2025-10-26 10:15:13,261 - INFO - Processing request of type CallToolRequest
2025-10-26 10:15:13,274 - INFO - ‚ú® LLAMADA A create_client | nombre: Fernando, canal: whatsapp
2025-10-26 10:15:18,032 - INFO - üì§ RESPUESTA create_client: success=True, id=mwSZ3x
2025-10-26 10:15:55,470 - INFO - Created new transport with session ID: fc1f13895b4a42deb18897fd1c7c0a61
2025-10-26 10:15:56,682 - INFO - Processing request of type ListToolsRequest
2025-10-26 10:15:58,275 - INFO - Processing request of type CallToolRequest
2025-10-26 10:15:58,283 - INFO - üîç LLAMADA A verify_client | tel: 573146964611, correo: None, usuario: None
2025-10-26 10:15:59,075 - INFO - üì§ RESPUESTA verify_client: exists=True, id=mwSZ3x
2025-10-26 10:16:01,637 - INFO - Processing request of type CallToolRequest
2025-10-26 10:16:01,643 - INFO - ‚úèÔ∏è LLAMADA A update_client_interest | client_id: mwSZ3x
2025-10-26 10:16:02,918 - INFO - üì§ RESPUESTA update_client_interest: success=True, updated_fields=['Estado', 'Nota']
2025-10-26 10:16:58,233 - INFO - Created new transport with session ID: a7bcb759a77841149b16aa1de9985d6b
2025-10-26 10:16:59,365 - INFO - Processing request of type ListToolsRequest
2025-10-26 10:17:12,189 - INFO - Created new transport with session ID: 4a7cfc32b27942ecb68eef3cb9a824ea
2025-10-26 10:17:13,420 - INFO - Processing request of type ListToolsRequest
2025-10-26 10:17:14,955 - INFO - Processing request of type CallToolRequest
2025-10-26 10:17:14,961 - INFO - üîç LLAMADA A verify_client | tel: 573146964611, correo: None, usuario: None
2025-10-26 10:17:15,977 - INFO - üì§ RESPUESTA verify_client: exists=False, id=None
2025-10-26 10:17:42,975 - INFO - Created new transport with session ID: aee626090ffb40d294c0afbc0f6403eb
2025-10-26 10:17:44,139 - INFO - Processing request of type ListToolsRequest
2025-10-26 10:17:45,675 - INFO - Processing request of type CallToolRequest
2025-10-26 10:17:45,681 - INFO - üîç LLAMADA A verify_client | tel: 573146964611, correo: None, usuario: None
2025-10-26 10:17:46,492 - INFO - üì§ RESPUESTA verify_client: exists=False, id=None
2025-10-26 10:17:48,954 - INFO - Processing request of type CallToolRequest
2025-10-26 10:17:48,964 - INFO - ‚ú® LLAMADA A create_client | nombre: Fernando, canal: whatsapp
2025-10-26 10:17:52,945 - INFO - üì§ RESPUESTA create_client: success=True, id=swE7do
2025-10-26 10:18:41,381 - INFO - Created new transport with session ID: 25919a1c5131421f9296c3d5d7521d55
2025-10-26 10:18:42,562 - INFO - Processing request of type ListToolsRequest
2025-10-26 10:18:44,660 - INFO - Processing request of type CallToolRequest
2025-10-26 10:18:44,668 - INFO - üîç LLAMADA A verify_client | tel: None, correo: None, usuario: Fordez
2025-10-26 10:18:45,475 - INFO - üì§ RESPUESTA verify_client: exists=True, id=swE7do
2025-10-26 10:18:45,480 - INFO - Processing request of type CallToolRequest
2025-10-26 10:18:45,487 - INFO - üîç LLAMADA A verify_client | tel: 573146964611, correo: None, usuario: None
2025-10-26 10:18:46,295 - INFO - üì§ RESPUESTA verify_client: exists=True, id=swE7do
2025-10-26 10:18:48,511 - INFO - Processing request of type CallToolRequest
2025-10-26 10:18:48,512 - INFO - ‚úèÔ∏è LLAMADA A update_client_interest | client_id: swE7do
2025-10-26 10:18:50,514 - INFO - üì§ RESPUESTA update_client_interest: success=True, updated_fields=['Estado', 'Nota']
2025-10-26 10:28:34,509 - INFO - Created new transport with session ID: 7c0dcde39e664d35b2637e6d97f9ad92
2025-10-26 10:28:35,921 - INFO - Processing request of type ListToolsRequest
2025-10-26 10:30:56,059 - INFO - Created new transport with session ID: 78112089c5734837806f064f144ed7d1
2025-10-26 10:30:57,294 - INFO - Processing request of type ListToolsRequest
2025-10-26 10:33:05,431 - INFO - Created new transport with session ID: 50f55cfa14d84d0caa0befb1a2114928
2025-10-26 10:33:06,592 - INFO - Processing request of type ListToolsRequest
2025-10-26 10:33:08,690 - INFO - Processing request of type CallToolRequest
2025-10-26 10:33:08,703 - INFO - üîç LLAMADA A verify_client | tel: 573164187556, correo: None, usuario: None
2025-10-26 10:33:10,406 - INFO - üì§ RESPUESTA verify_client: exists=False, id=None
2025-10-26 10:33:48,431 - INFO - Created new transport with session ID: fdd5a4f50f1e4024bb9144ef66e045af
2025-10-26 10:33:49,586 - INFO - Processing request of type ListToolsRequest
2025-10-26 10:33:50,921 - INFO - Processing request of type CallToolRequest
2025-10-26 10:33:50,929 - INFO - üîç LLAMADA A verify_client | tel: 573164187556, correo: None, usuario: None
2025-10-26 10:33:52,108 - INFO - üì§ RESPUESTA verify_client: exists=False, id=None
2025-10-26 10:33:54,123 - INFO - Processing request of type CallToolRequest
2025-10-26 10:33:54,133 - INFO - ‚ú® LLAMADA A create_client | nombre: lucy, canal: web
2025-10-26 10:33:59,208 - INFO - üì§ RESPUESTA create_client: success=True, id=DZKCxs
2025-10-26 10:34:58,119 - INFO - Created new transport with session ID: 9a66e574e9c142638ef3ac2966edfcf1
2025-10-26 10:34:59,259 - INFO - Processing request of type ListToolsRequest
2025-10-26 10:35:00,966 - INFO - Processing request of type CallToolRequest
2025-10-26 10:35:00,971 - INFO - üîç LLAMADA A verify_client | tel: 573164187556, correo: None, usuario: None
2025-10-26 10:35:01,830 - INFO - üì§ RESPUESTA verify_client: exists=True, id=DZKCxs
2025-10-26 10:35:14,474 - INFO - Created new transport with session ID: 04f9f39d13054136b46b8a482aaaf32b
2025-10-26 10:35:15,705 - INFO - Processing request of type ListToolsRequest
2025-10-26 10:35:17,184 - INFO - Processing request of type CallToolRequest
2025-10-26 10:35:17,189 - INFO - üîç LLAMADA A verify_client | tel: 573164187556, correo: None, usuario: None
2025-10-26 10:35:18,009 - INFO - üì§ RESPUESTA verify_client: exists=True, id=DZKCxs
2025-10-26 10:35:54,538 - INFO - Created new transport with session ID: 1ac5c736912747709c1e7e997e4e6aed
2025-10-26 10:35:55,691 - INFO - Processing request of type ListToolsRequest
2025-10-26 10:35:57,079 - INFO - Processing request of type CallToolRequest
2025-10-26 10:35:57,085 - INFO - üîç LLAMADA A verify_client | tel: 573164187556, correo: None, usuario: None
2025-10-26 10:35:58,113 - INFO - üì§ RESPUESTA verify_client: exists=True, id=DZKCxs
2025-10-26 10:35:59,738 - INFO - Processing request of type CallToolRequest
2025-10-26 10:35:59,740 - INFO - ‚úèÔ∏è LLAMADA A update_client_interest | client_id: DZKCxs
2025-10-26 10:36:01,098 - INFO - üì§ RESPUESTA update_client_interest: success=True, updated_fields=['Estado', 'Nota']
2025-10-26 10:36:25,646 - INFO - Created new transport with session ID: 122dfa2fe71541a3b5a491a95d56b3d7
2025-10-26 10:36:26,840 - INFO - Processing request of type ListToolsRequest
2025-10-26 10:39:25,154 - INFO - Created new transport with session ID: dc52e8bcb2a54252b76a416cff6c00f5
2025-10-26 10:39:26,336 - INFO - Processing request of type ListToolsRequest
2025-10-26 10:53:59,803 - INFO - Created new transport with session ID: a3ae622504b14f53a1058d3b24514b24
2025-10-26 10:54:01,159 - INFO - Processing request of type ListToolsRequest
2025-10-26 10:54:03,352 - INFO - Processing request of type CallToolRequest
2025-10-26 10:54:03,357 - INFO - üîç LLAMADA A verify_client | tel: 573146964611, correo: None, usuario: None
2025-10-26 10:54:04,989 - INFO - üì§ RESPUESTA verify_client: exists=False, id=None
2025-10-26 10:54:16,869 - INFO - Created new transport with session ID: b5de1ad5b453401d99740e27aa7ba4ec
2025-10-26 10:54:18,046 - INFO - Processing request of type ListToolsRequest
2025-10-26 10:54:20,556 - INFO - Processing request of type CallToolRequest
2025-10-26 10:54:20,564 - INFO - üîç LLAMADA A verify_client | tel: 573146964611, correo: None, usuario: None
2025-10-26 10:54:21,681 - INFO - üì§ RESPUESTA verify_client: exists=False, id=None
2025-10-26 10:54:23,240 - INFO - Processing request of type CallToolRequest
2025-10-26 10:54:23,249 - INFO - ‚ú® LLAMADA A create_client | nombre: Fernando, canal: whatsapp
2025-10-26 10:54:27,724 - INFO - üì§ RESPUESTA create_client: success=True, id=Q6tAyj
2025-10-26 10:54:48,377 - INFO - Created new transport with session ID: 9a08053401f54192837bb81e21c30659
2025-10-26 10:54:49,634 - INFO - Processing request of type ListToolsRequest
2025-10-26 10:54:51,380 - INFO - Processing request of type CallToolRequest
2025-10-26 10:54:51,387 - INFO - üîç LLAMADA A verify_client | tel: 573146964611, correo: fordezdeveloper2@gmail.com, usuario: Fordez
2025-10-26 10:54:52,123 - INFO - üì§ RESPUESTA verify_client: exists=True, id=Q6tAyj
2025-10-26 10:55:12,270 - INFO - Created new transport with session ID: 9d929bd895de4549bd33e595a664355f
2025-10-26 10:55:13,439 - INFO - Processing request of type ListToolsRequest
2025-10-26 10:55:15,136 - INFO - Processing request of type CallToolRequest
2025-10-26 10:55:15,140 - INFO - üîç LLAMADA A verify_client | tel: 573146964611, correo: None, usuario: None
2025-10-26 10:55:15,954 - INFO - üì§ RESPUESTA verify_client: exists=True, id=Q6tAyj
2025-10-26 10:55:28,705 - INFO - Created new transport with session ID: e7bd1246523741c38d61f726d899e58c
2025-10-26 10:55:29,882 - INFO - Processing request of type ListToolsRequest
2025-10-26 10:55:46,054 - INFO - Created new transport with session ID: c6fc3e63d8a94d7dae338c73a6cc872c
2025-10-26 10:55:47,253 - INFO - Processing request of type ListToolsRequest
2025-10-26 10:55:49,864 - INFO - Processing request of type CallToolRequest
2025-10-26 10:55:49,878 - INFO - üîç LLAMADA A verify_client | tel: 573146964611, correo: None, usuario: Fordez
2025-10-26 10:55:50,669 - INFO - üì§ RESPUESTA verify_client: exists=True, id=Q6tAyj
2025-10-26 10:55:52,615 - INFO - Processing request of type CallToolRequest
2025-10-26 10:55:52,620 - INFO - ‚úèÔ∏è LLAMADA A update_client_interest | client_id: Q6tAyj
2025-10-26 10:55:53,797 - INFO - üì§ RESPUESTA update_client_interest: success=True, updated_fields=['Estado', 'Nota']
2025-10-26 10:57:32,774 - INFO - Created new transport with session ID: 40fc0f7f399545c983132fc74de23b62
2025-10-26 10:57:34,018 - INFO - Processing request of type ListToolsRequest
2025-10-26 10:59:07,979 - INFO - Created new transport with session ID: e7551db53bd9495ba50ded5475650e5c
2025-10-26 10:59:09,205 - INFO - Processing request of type ListToolsRequest
2025-10-26 10:59:32,021 - INFO - Created new transport with session ID: 7d5f4518d9e74881add6d2fca0667e28
2025-10-26 10:59:33,191 - INFO - Processing request of type ListToolsRequest
2025-10-26 11:09:31,007 - INFO - Created new transport with session ID: 9bc727e2e7864340af34dae2625faf10
2025-10-26 11:09:32,253 - INFO - Processing request of type ListToolsRequest
2025-10-26 11:09:33,565 - INFO - Processing request of type CallToolRequest
2025-10-26 11:09:33,571 - INFO - üîç LLAMADA A verify_client | tel: 573164187556, correo: None, usuario: None
2025-10-26 11:09:35,305 - INFO - üì§ RESPUESTA verify_client: exists=False, id=None
2025-10-26 11:09:36,617 - INFO - Processing request of type CallToolRequest
2025-10-26 11:09:36,628 - INFO - ‚ú® LLAMADA A create_client | nombre: Lucy, canal: web
2025-10-26 11:09:41,359 - INFO - üì§ RESPUESTA create_client: success=True, id=mK6qbU
2025-10-26 11:10:17,699 - INFO - Created new transport with session ID: a8ca848110a0409b8fe39e8ad08138fc
2025-10-26 11:10:18,855 - INFO - Processing request of type ListToolsRequest
2025-10-26 11:10:20,158 - INFO - Processing request of type CallToolRequest
2025-10-26 11:10:20,164 - INFO - üîç LLAMADA A verify_client | tel: 573164187556, correo: None, usuario: None
2025-10-26 11:10:20,974 - INFO - üì§ RESPUESTA verify_client: exists=True, id=mK6qbU
2025-10-26 11:10:48,045 - INFO - Created new transport with session ID: 7cf9d8a4009d463daf3cf11859815166
2025-10-26 11:10:49,279 - INFO - Processing request of type ListToolsRequest
2025-10-26 11:10:50,686 - INFO - Processing request of type CallToolRequest
2025-10-26 11:10:50,696 - INFO - üîç LLAMADA A verify_client | tel: 573164187556, correo: None, usuario: None
2025-10-26 11:10:52,105 - INFO - üì§ RESPUESTA verify_client: exists=True, id=mK6qbU
2025-10-26 11:11:01,324 - INFO - Created new transport with session ID: 8c17584aa48c48ab91d1c0c745998516
2025-10-26 11:11:02,507 - INFO - Processing request of type ListToolsRequest
2025-10-26 11:11:16,271 - INFO - Created new transport with session ID: 8ed5f8aee1844c4688dee666bf428546
2025-10-26 11:11:17,419 - INFO - Processing request of type ListToolsRequest
2025-10-26 11:11:19,349 - INFO - Processing request of type CallToolRequest
2025-10-26 11:11:19,354 - INFO - üîç LLAMADA A verify_client | tel: 573164187556, correo: None, usuario: None
2025-10-26 11:11:20,368 - INFO - üì§ RESPUESTA verify_client: exists=True, id=mK6qbU
2025-10-26 11:11:22,524 - INFO - Processing request of type CallToolRequest
2025-10-26 11:11:22,527 - INFO - ‚úèÔ∏è LLAMADA A update_client_interest | client_id: mK6qbU
2025-10-26 11:11:23,948 - INFO - üì§ RESPUESTA update_client_interest: success=True, updated_fields=['Estado', 'Nota']
2025-10-26 11:16:28,426 - INFO - StreamableHTTP session manager shutting down
2025-10-26 11:52:59,981 - INFO - StreamableHTTP session manager started
2025-10-26 11:53:36,426 - INFO - Created new transport with session ID: 1bea9237eb104dc7928916ec9c668db5
2025-10-26 11:53:37,612 - INFO - Processing request of type ListToolsRequest
2025-10-26 11:54:04,011 - INFO - Created new transport with session ID: 79bf4e5be909469fa8c8398d30e5693a
2025-10-26 11:54:05,305 - INFO - Processing request of type ListToolsRequest
2025-10-26 11:55:20,874 - INFO - Created new transport with session ID: bfe9f66833f6418f9651349f10883130
2025-10-26 11:55:22,208 - INFO - Processing request of type ListToolsRequest
2025-10-26 11:55:24,152 - INFO - Processing request of type CallToolRequest
2025-10-26 11:55:24,157 - INFO - üîç LLAMADA A verify_client | tel: 573146964611, correo: None, usuario: None
2025-10-26 11:55:26,070 - INFO - üì§ RESPUESTA verify_client: exists=True, id=Q6tAyj
2025-10-26 11:55:26,072 - INFO - Processing request of type CallToolRequest
2025-10-26 11:55:26,073 - INFO - üîç LLAMADA A get_all_services
2025-10-26 11:55:26,888 - INFO - üì§ RESPUESTA get_all_services: success=False
2025-10-26 11:59:40,028 - INFO - StreamableHTTP session manager shutting down
2025-10-26 11:59:43,469 - INFO - StreamableHTTP session manager started
2025-10-26 12:00:02,069 - INFO - Created new transport with session ID: e0eb98bde96e45508f9d4da1df92d122
2025-10-26 12:00:03,252 - INFO - Processing request of type ListToolsRequest
2025-10-26 12:00:05,650 - INFO - Processing request of type CallToolRequest
2025-10-26 12:00:05,658 - INFO - üîç LLAMADA A verify_client | tel: 573146964611, correo: None, usuario: None
2025-10-26 12:00:07,699 - INFO - üì§ RESPUESTA verify_client: exists=True, id=Q6tAyj
2025-10-26 12:00:47,760 - INFO - Created new transport with session ID: 64de164b6abc4011a65284a29224f371
2025-10-26 12:00:48,933 - INFO - Processing request of type ListToolsRequest
2025-10-26 12:00:50,400 - INFO - Processing request of type CallToolRequest
2025-10-26 12:00:50,414 - INFO - üîç LLAMADA A verify_client | tel: 573146964611, correo: None, usuario: None
2025-10-26 12:00:51,628 - INFO - üì§ RESPUESTA verify_client: exists=True, id=Q6tAyj
2025-10-26 12:00:53,576 - INFO - Processing request of type CallToolRequest
2025-10-26 12:00:53,582 - INFO - ‚úèÔ∏è LLAMADA A update_client_note | client_id: Q6tAyj
2025-10-26 12:00:55,064 - INFO - üì§ RESPUESTA update_client_note: success=True, updated_fields=['Nota']
2025-10-26 12:00:56,964 - INFO - Processing request of type CallToolRequest
2025-10-26 12:00:56,970 - INFO - üîÑ LLAMADA A update_client_status | client_id: Q6tAyj, estado: Interesado
2025-10-26 12:00:58,080 - INFO - üì§ RESPUESTA update_client_status: success=True, updated_fields=['Estado']
2025-10-26 12:00:59,578 - INFO - Processing request of type CallToolRequest
2025-10-26 12:00:59,580 - INFO - üîç LLAMADA A get_all_services
2025-10-26 12:01:00,520 - INFO - üì§ RESPUESTA get_all_services: success=False
2025-10-26 12:04:32,606 - INFO - StreamableHTTP session manager shutting down
2025-10-26 12:04:35,002 - INFO - StreamableHTTP session manager started
2025-10-26 12:05:00,258 - INFO - Created new transport with session ID: 574c0a5382054459be6bba4b4b30725a
2025-10-26 12:05:01,442 - INFO - Processing request of type ListToolsRequest
2025-10-26 12:05:29,872 - INFO - Created new transport with session ID: d4d9eb1e5fd445c0bfe23ef17bf1b7d6
2025-10-26 12:05:31,138 - INFO - Processing request of type ListToolsRequest
2025-10-26 12:05:46,348 - INFO - Created new transport with session ID: 734691711d6248f18e27159a1583d2ae
2025-10-26 12:05:47,671 - INFO - Processing request of type ListToolsRequest
2025-10-26 12:20:57,365 - INFO - Created new transport with session ID: 41e85b84062a4d7e9060834f4e68dcf2
2025-10-26 12:20:58,583 - INFO - Processing request of type ListToolsRequest
2025-10-26 12:20:59,959 - INFO - Processing request of type CallToolRequest
2025-10-26 12:20:59,965 - INFO - üîç LLAMADA A verify_client | tel: 573154562556, correo: None, usuario: None
2025-10-26 12:21:02,209 - INFO - üì§ RESPUESTA verify_client: exists=False, id=None
2025-10-26 12:21:04,301 - INFO - Processing request of type CallToolRequest
2025-10-26 12:21:04,316 - INFO - ‚ú® LLAMADA A create_client | nombre: Carlos, canal: web
2025-10-26 12:21:09,684 - INFO - üì§ RESPUESTA create_client: success=True, id=T9tbC7
2025-10-26 12:21:33,175 - INFO - Created new transport with session ID: 246c7df717004465ae7636d048a22374
2025-10-26 12:21:34,574 - INFO - Processing request of type ListToolsRequest
2025-10-26 12:21:35,931 - INFO - Processing request of type CallToolRequest
2025-10-26 12:21:35,953 - INFO - üîç LLAMADA A verify_client | tel: 573154562556, correo: None, usuario: None
2025-10-26 12:21:37,229 - INFO - üì§ RESPUESTA verify_client: exists=True, id=T9tbC7
2025-10-26 12:21:55,970 - INFO - Created new transport with session ID: b28e161fced14e528c9d9c6c8387e318
2025-10-26 12:21:57,509 - INFO - Processing request of type ListToolsRequest
2025-10-26 12:22:08,875 - INFO - Created new transport with session ID: 0659e8211d314d5f92d42639a9035e00
2025-10-26 12:22:10,053 - INFO - Processing request of type ListToolsRequest
2025-10-26 12:22:26,818 - INFO - Created new transport with session ID: daa5c9b7cd624c39872b07afb88a9f2f
2025-10-26 12:22:27,975 - INFO - Processing request of type ListToolsRequest
2025-10-26 12:22:29,000 - INFO - Processing request of type CallToolRequest
2025-10-26 12:22:29,012 - INFO - üîç LLAMADA A verify_client | tel: 573154562556, correo: None, usuario: None
2025-10-26 12:22:30,032 - INFO - üì§ RESPUESTA verify_client: exists=True, id=T9tbC7
2025-10-26 12:22:32,835 - INFO - Processing request of type CallToolRequest
2025-10-26 12:22:32,837 - INFO - ‚úèÔ∏è LLAMADA A update_client_note | client_id: T9tbC7
2025-10-26 12:22:34,368 - INFO - üì§ RESPUESTA update_client_note: success=True, updated_fields=['Nota']
2025-10-26 12:22:34,372 - INFO - Processing request of type CallToolRequest
2025-10-26 12:22:34,374 - INFO - üîÑ LLAMADA A update_client_status | client_id: T9tbC7, estado: Interesado
2025-10-26 12:22:35,654 - INFO - üì§ RESPUESTA update_client_status: success=True, updated_fields=['Estado']
2025-10-26 12:38:18,025 - INFO - Created new transport with session ID: cbbc0a3de58c42859655e19a3b684884
2025-10-26 12:38:19,434 - INFO - Processing request of type ListToolsRequest
2025-10-26 12:43:32,059 - INFO - Created new transport with session ID: b3ae9b1fccc641e0b898ef83ce20ff40
2025-10-26 12:43:33,241 - INFO - Processing request of type ListToolsRequest
2025-10-26 12:43:35,968 - INFO - Processing request of type CallToolRequest
2025-10-26 12:43:35,971 - INFO - üîç LLAMADA A get_all_services
2025-10-26 12:43:37,995 - INFO - üì§ RESPUESTA get_all_services: success=True
2025-10-26 12:43:37,999 - INFO - Processing request of type CallToolRequest
2025-10-26 12:43:38,007 - INFO - üîç LLAMADA A verify_client | tel: 573146964611, correo: None, usuario: None
2025-10-26 12:43:39,172 - INFO - üì§ RESPUESTA verify_client: exists=True, id=Q6tAyj
2025-10-26 12:44:08,308 - INFO - Created new transport with session ID: 26812ee6a257420d8794c24330c87547
2025-10-26 12:44:09,639 - INFO - Processing request of type ListToolsRequest
2025-10-26 12:44:19,470 - INFO - Created new transport with session ID: ec42e9bc95aa41719fcd9a3e21dd6531
2025-10-26 12:44:20,632 - INFO - Processing request of type ListToolsRequest
2025-10-26 12:44:33,564 - INFO - Created new transport with session ID: 976eb42cab1e4035997b18787489a9c8
2025-10-26 12:44:34,804 - INFO - Processing request of type ListToolsRequest
2025-10-26 12:44:36,366 - INFO - Processing request of type CallToolRequest
2025-10-26 12:44:36,367 - INFO - üîç LLAMADA A get_all_services
2025-10-26 12:44:37,490 - INFO - üì§ RESPUESTA get_all_services: success=True
2025-10-26 12:45:40,196 - INFO - Created new transport with session ID: dacc01eb5f164c5fa4c68513d52c64d9
2025-10-26 12:45:41,459 - INFO - Processing request of type ListToolsRequest
2025-10-26 12:45:43,130 - INFO - Processing request of type CallToolRequest
2025-10-26 12:45:43,137 - INFO - üîç LLAMADA A verify_client | tel: 573146964611, correo: None, usuario: None
2025-10-26 12:45:43,958 - INFO - üì§ RESPUESTA verify_client: exists=True, id=Q6tAyj
2025-10-26 12:45:43,960 - INFO - Processing request of type CallToolRequest
2025-10-26 12:45:43,963 - INFO - üîç LLAMADA A get_all_services
2025-10-26 12:45:44,929 - INFO - üì§ RESPUESTA get_all_services: success=True
2025-10-26 12:45:47,305 - INFO - Processing request of type CallToolRequest
2025-10-26 12:45:47,306 - INFO - ‚úèÔ∏è LLAMADA A update_client_note | client_id: Q6tAyj
2025-10-26 12:45:48,311 - INFO - üì§ RESPUESTA update_client_note: success=True, updated_fields=['Nota']
2025-10-26 12:45:50,005 - INFO - Processing request of type CallToolRequest
2025-10-26 12:45:50,006 - INFO - üîÑ LLAMADA A update_client_status | client_id: Q6tAyj, estado: Interesado
2025-10-26 12:45:51,019 - INFO - üì§ RESPUESTA update_client_status: success=True, updated_fields=['Estado']
2025-10-26 19:03:05,541 - INFO - StreamableHTTP session manager shutting down
2025-10-27 12:27:20,039 - INFO - StreamableHTTP session manager started
2025-10-27 12:28:37,937 - INFO - StreamableHTTP session manager shutting down
2025-10-27 12:28:40,600 - INFO - StreamableHTTP session manager started
2025-10-27 12:29:04,481 - INFO - StreamableHTTP session manager shutting down
2025-10-27 12:30:29,843 - INFO - StreamableHTTP session manager started
2025-10-27 12:31:29,990 - INFO - StreamableHTTP session manager shutting down
2025-10-27 12:31:33,537 - INFO - StreamableHTTP session manager started
2025-10-27 12:44:11,310 - INFO - StreamableHTTP session manager shutting down
2025-10-27 12:44:57,200 - INFO - StreamableHTTP session manager started
2025-10-27 12:49:40,590 - INFO - Created new transport with session ID: bb2e6446b1d1402f9411d133720ad751
2025-10-27 12:49:41,343 - INFO - Processing request of type ListToolsRequest
2025-10-27 12:49:41,810 - INFO - Created new transport with session ID: 79a776bc09b84e2b8e3be1f89d7f8a48
2025-10-27 12:49:42,394 - INFO - Processing request of type ListToolsRequest
2025-10-27 12:49:47,130 - INFO - Created new transport with session ID: 99fc16aed9684a84902384790e336cc7
2025-10-27 12:49:47,788 - INFO - Processing request of type ListToolsRequest
2025-10-27 12:55:51,258 - INFO - Created new transport with session ID: dde07b77a7384aeb926af883187b1459
2025-10-27 12:55:51,939 - INFO - Processing request of type ListToolsRequest
2025-10-27 12:58:18,924 - INFO - Created new transport with session ID: cd3684d2fdb748ba86c8c621f1ea4250
2025-10-27 12:58:19,672 - INFO - Processing request of type ListToolsRequest
2025-10-27 12:58:22,403 - INFO - Processing request of type CallToolRequest
2025-10-27 12:58:22,420 - INFO - ‚ú® LLAMADA A create_client | nombre: joa, canal: chat
2025-10-27 12:58:27,994 - INFO - üì§ RESPUESTA create_client: success=False, id=None
2025-10-27 12:58:46,572 - INFO - Created new transport with session ID: d5fd678dde4241549d91cfb8eed368e5
2025-10-27 12:58:47,249 - INFO - Processing request of type ListToolsRequest
2025-10-27 12:59:10,010 - INFO - Created new transport with session ID: bb79c111644c45589c04f157757483a3
2025-10-27 12:59:10,661 - INFO - Processing request of type ListToolsRequest
2025-10-27 12:59:21,613 - INFO - Created new transport with session ID: d770accbec714b19ad21b9b24981f252
2025-10-27 12:59:22,319 - INFO - Processing request of type ListToolsRequest
2025-10-27 12:59:35,397 - INFO - Created new transport with session ID: c9a7271080094d3c8714faaa7d67228e
2025-10-27 12:59:36,057 - INFO - Processing request of type ListToolsRequest
2025-10-27 12:59:38,688 - INFO - Processing request of type CallToolRequest
2025-10-27 12:59:38,690 - INFO - üîç LLAMADA A get_service_by_name | service_name=Desarrollo web
2025-10-27 12:59:39,187 - INFO - üì§ RESPUESTA get_service_by_name: success=False
2025-10-27 13:00:20,314 - INFO - Created new transport with session ID: 6c660d1587e7466eaa8f7f54aa658283
2025-10-27 13:00:21,111 - INFO - Processing request of type ListToolsRequest
2025-10-27 13:00:23,022 - INFO - Processing request of type CallToolRequest
2025-10-27 13:00:23,026 - INFO - üïì LLAMADA A calendar_check_availability
2025-10-27 13:06:30,322 - INFO - "GET /?state=nO2O5Gd0iLuIWFNc6ESiiu1uMmXyrG&code=4/0Ab32j9048oOWYFGJoupKvFf3Pm5s89D6GuGRZMqEIMlLWRclWwcQvjdp8NVKmPRxOrWaPw&scope=https://www.googleapis.com/auth/meetings.space.created%20https://www.googleapis.com/auth/calendar.events%20https://www.googleapis.com/auth/calendar.readonly%20https://www.googleapis.com/auth/calendar HTTP/1.1" 200 65
2025-10-27 13:06:31,040 - INFO - üîê Nuevo token guardado correctamente.
2025-10-27 13:06:31,045 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-10-27 13:06:32,362 - INFO - üì§ RESPUESTA calendar_check_availability enviada.
2025-10-27 13:06:32,365 - INFO - Warning: DeprecationWarning: datetime.datetime.utcfromtimestamp() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.fromtimestamp(timestamp, datetime.UTC).
2025-10-27 13:07:31,242 - INFO - Created new transport with session ID: e3fe7a12bf4e47c0831d9c8be1ef681b
2025-10-27 13:07:31,987 - INFO - Processing request of type ListToolsRequest
2025-10-27 13:07:33,190 - INFO - Processing request of type CallToolRequest
2025-10-27 13:07:33,193 - INFO - üïì LLAMADA A calendar_check_availability
2025-10-27 13:07:33,194 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-10-27 13:07:34,306 - INFO - üì§ RESPUESTA calendar_check_availability enviada.
2025-10-27 13:08:05,649 - INFO - Created new transport with session ID: 6eafef47c8f54e8ebd16f9d019750235
2025-10-27 13:08:06,399 - INFO - Processing request of type ListToolsRequest
2025-10-27 13:08:10,051 - INFO - Processing request of type CallToolRequest
2025-10-27 13:08:10,056 - INFO - üìÖ LLAMADA A calendar_create_meet | summary=Reuni√≥n con Joa
2025-10-27 13:09:02,791 - INFO - StreamableHTTP session manager shutting down
2025-10-27 13:12:20,317 - INFO - StreamableHTTP session manager started
2025-10-27 13:13:05,060 - INFO - Created new transport with session ID: ae389bf35ad54aaaa4382b62913d3ba4
2025-10-27 13:13:06,425 - INFO - Processing request of type ListToolsRequest
2025-10-27 13:14:31,813 - INFO - Created new transport with session ID: 5d2811b090904d26adbcd617d6a54543
2025-10-27 13:14:32,527 - INFO - Processing request of type ListToolsRequest
2025-10-27 13:14:33,726 - INFO - Processing request of type CallToolRequest
2025-10-27 13:14:33,733 - INFO - üîç LLAMADA A verify_client | tel: None, correo: None, usuario: fernando
2025-10-27 13:14:34,223 - INFO - üì§ RESPUESTA verify_client: exists=None, id=None
2025-10-27 13:14:46,151 - INFO - Created new transport with session ID: 36f4d8e888264c1686f1288451cb3426
2025-10-27 13:14:46,810 - INFO - Processing request of type ListToolsRequest
2025-10-27 13:15:05,177 - INFO - Created new transport with session ID: ae1a6c504eef45f6aea4f91750baabe9
2025-10-27 13:15:05,874 - INFO - Processing request of type ListToolsRequest
2025-10-27 13:15:12,390 - INFO - Created new transport with session ID: e755582c43ac4d06846034f2dbbc6845
2025-10-27 13:15:13,110 - INFO - Processing request of type ListToolsRequest
2025-10-27 13:15:21,726 - INFO - Created new transport with session ID: be1e65e911794f3892773cb26e22f0fc
2025-10-27 13:15:22,419 - INFO - Processing request of type ListToolsRequest
2025-10-27 13:16:00,669 - INFO - Created new transport with session ID: a86e25e18b7840fdb746aa84e37f0149
2025-10-27 13:16:01,543 - INFO - Processing request of type ListToolsRequest
2025-10-27 13:16:03,961 - INFO - Processing request of type CallToolRequest
2025-10-27 13:16:03,981 - INFO - ‚ú® LLAMADA A create_client | nombre: fernando, canal: chat
2025-10-27 13:16:04,102 - INFO - üì§ RESPUESTA create_client: success=False, id=None
2025-10-27 13:16:04,106 - INFO - Processing request of type CallToolRequest
2025-10-27 13:16:04,112 - INFO - üìÖ LLAMADA A calendar_create_meet | summary=Reuni√≥n con Fernando sobre desarrollo de agente AI
2025-10-27 13:16:04,118 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-10-27 13:16:05,387 - INFO - ‚úÖ Evento creado: https://www.google.com/calendar/event?eid=bXVsaHQyNmpwZHJvM3J2dmx1azFoNjFhNm8gZm9yZGV6Y29udGFjdG9AbQ
2025-10-27 13:22:15,424 - INFO - Created new transport with session ID: 218f0ee3d6ea4bd4a2de9da26c633e1c
2025-10-27 13:22:16,092 - INFO - Processing request of type ListToolsRequest
2025-10-27 13:22:17,923 - INFO - Processing request of type CallToolRequest
2025-10-27 13:22:17,926 - INFO - üìÑ LLAMADA A calendar_get_event_details | event_id=bXVsaHQyNmpwZHJvM3J2dmx1azFoNjFhNm8gZm9yemNvb...
2025-10-27 13:22:17,928 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-10-27 13:35:22,922 - INFO - Created new transport with session ID: 9c177242637a42b1a1940b1cd8b9cd45
2025-10-27 13:35:23,601 - INFO - Processing request of type ListToolsRequest
2025-10-27 13:35:26,263 - INFO - Processing request of type CallToolRequest
2025-10-27 13:35:26,265 - INFO - üìÑ LLAMADA A calendar_get_event_details | event_id=bDQ2NTI1OGZobTYyb3JhZ2xsM2dnNDFodW8gYmM5NDJiZGNmYzk2NzM2MjU5NmMzZTYzNGNjYTcwZmM0ZDRiZWEzZTE1MDI3YjZmMTRmN2M3YjFlNGU4ZjVjNEBn
2025-10-27 13:35:26,266 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-10-27 13:45:41,797 - INFO - Created new transport with session ID: 44ff7d0a302e491f9c7ace0e7ef92b66
2025-10-27 13:45:42,552 - INFO - Processing request of type ListToolsRequest
2025-10-27 13:45:47,037 - INFO - Processing request of type CallToolRequest
2025-10-27 13:45:47,039 - INFO - üìÑ LLAMADA A calendar_get_event_details | event_id=bDQ2NTI1OGZobTYyb3JhZ2xsM2dnNDFodW8gYmM5NDJiZGNmYzk2NzM2MjU5NmMzZTYzNGNjYTcwZmM0ZDRiZWEzZTE1MDI3YjZmMTRmN2M3YjFlNGU4ZjVjNEBn
2025-10-27 13:45:47,041 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-10-27 13:45:51,300 - INFO - StreamableHTTP session manager shutting down
2025-10-27 13:45:54,357 - INFO - StreamableHTTP session manager started
2025-10-27 13:45:59,727 - INFO - Created new transport with session ID: 2a104671d6014cbfba7a3de88eea14fe
2025-10-27 13:46:00,646 - INFO - Processing request of type ListToolsRequest
2025-10-27 13:46:03,080 - INFO - Processing request of type CallToolRequest
2025-10-27 13:46:03,082 - INFO - üìÑ LLAMADA A calendar_get_event_details | event_id=bDQ2NTI1OGZobTYyb3JhZ2xsM2dnNDFodW8gYmM5NDJiZGNmYzk2NzM2MjU5NmMzZTYzNGNjYTcwZmM0ZDRiZWEzZTE1MDI3YjZmMTRmN2M3YjFlNGU4ZjVjNEBn
2025-10-27 13:46:03,088 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-10-27 13:46:10,750 - INFO - StreamableHTTP session manager shutting down
2025-10-27 14:02:43,062 - INFO - StreamableHTTP session manager started
2025-10-27 14:03:02,335 - INFO - Created new transport with session ID: 9ef9cca17777480fb8862708d941249b
2025-10-27 14:03:03,124 - INFO - Processing request of type ListToolsRequest
2025-10-27 14:03:33,875 - INFO - Created new transport with session ID: 43585a1ddedd4f2f8a90619dd598b7f9
2025-10-27 14:03:34,586 - INFO - Processing request of type ListToolsRequest
2025-10-27 14:03:35,895 - INFO - Processing request of type CallToolRequest
2025-10-27 14:03:35,902 - INFO - üîç LLAMADA A verify_client | tel: 3124589645, correo: None, usuario: None
2025-10-27 14:03:36,437 - INFO - üì§ RESPUESTA verify_client: exists=None, id=None
2025-10-27 14:03:48,118 - INFO - Created new transport with session ID: 4d8e44ce291e4f9d94c430fc554ea9fa
2025-10-27 14:03:48,786 - INFO - Processing request of type ListToolsRequest
2025-10-27 14:03:49,618 - INFO - Processing request of type CallToolRequest
2025-10-27 14:03:49,623 - INFO - üîç LLAMADA A verify_client | tel: 3124589645, correo: None, usuario: None
2025-10-27 14:03:49,746 - INFO - üì§ RESPUESTA verify_client: exists=None, id=None
2025-10-27 14:03:50,938 - INFO - Processing request of type CallToolRequest
2025-10-27 14:03:50,952 - INFO - ‚ú® LLAMADA A create_client | nombre: Isabela, canal: chat
2025-10-27 14:03:51,064 - INFO - üì§ RESPUESTA create_client: success=False, id=None
2025-10-27 14:04:12,244 - INFO - Created new transport with session ID: 70d9305db2f940e89c21d4b19d5ce9e3
2025-10-27 14:04:13,128 - INFO - Processing request of type ListToolsRequest
2025-10-27 14:04:27,840 - INFO - Created new transport with session ID: 1e8ca7bcfd54424abc9617ce90cb67dd
2025-10-27 14:04:28,626 - INFO - Processing request of type ListToolsRequest
2025-10-27 14:04:34,358 - INFO - Created new transport with session ID: 7445382a21c0442baa585832c71ce93a
2025-10-27 14:04:35,099 - INFO - Processing request of type ListToolsRequest
2025-10-27 14:04:43,983 - INFO - Created new transport with session ID: cde67f434c414bd2a467a464ddc1fb42
2025-10-27 14:04:44,728 - INFO - Processing request of type ListToolsRequest
2025-10-27 14:05:09,437 - INFO - Created new transport with session ID: e9d6533e74c34264be5b64c8af91ab60
2025-10-27 14:05:10,222 - INFO - Processing request of type ListToolsRequest
2025-10-27 14:05:11,690 - INFO - Processing request of type CallToolRequest
2025-10-27 14:05:11,691 - INFO - üïì LLAMADA A calendar_check_availability
2025-10-27 14:05:11,696 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-10-27 14:05:13,250 - INFO - üì§ RESPUESTA calendar_check_availability enviada.
2025-10-27 14:05:34,637 - INFO - Created new transport with session ID: e960c75b07144bfa839180b8591bfd10
2025-10-27 14:05:35,420 - INFO - Processing request of type ListToolsRequest
2025-10-27 14:05:56,146 - INFO - Created new transport with session ID: 79dc835297ea4f318d6bf7d59d6cb627
2025-10-27 14:05:56,816 - INFO - Processing request of type ListToolsRequest
2025-10-27 14:06:10,718 - INFO - Created new transport with session ID: 53084d1d63e747628cb0bbf7ea5c0a12
2025-10-27 14:06:11,429 - INFO - Processing request of type ListToolsRequest
2025-10-27 14:06:22,936 - INFO - Created new transport with session ID: 8d0f888b15a746b9a0526aef0e43dea6
2025-10-27 14:06:23,637 - INFO - Processing request of type ListToolsRequest
2025-10-27 14:06:30,784 - INFO - Created new transport with session ID: 7e01df04e9bb4e6da02c7dd98ac23f4e
2025-10-27 14:06:31,525 - INFO - Processing request of type ListToolsRequest
2025-10-27 14:06:33,557 - INFO - Processing request of type CallToolRequest
2025-10-27 14:06:33,578 - INFO - üìÖ LLAMADA A calendar_create_meet | summary=Reuni√≥n con Isabela para desarrollo web
2025-10-27 14:06:34,350 - INFO - ‚úÖ Evento creado: https://www.google.com/calendar/event?eid=ajA5azY0cXUzbmJzZ2VrdTRwY2c0ZnNnMXMgZm9yZGV6Y29udGFjdG9AbQ
2025-10-27 14:10:05,685 - INFO - Created new transport with session ID: 3d41110a72e3424b9e7a646052954431
2025-10-27 14:10:06,367 - INFO - Processing request of type ListToolsRequest
2025-10-27 14:10:08,177 - INFO - Processing request of type CallToolRequest
2025-10-27 14:10:08,181 - INFO - üìÑ LLAMADA A calendar_get_event_details | event_id=ajA5azY0cXUzbmJzZ2VrdTRwY2c0ZnNnMXMgZm9yZGV6Y29udGFjdG9AbQ
2025-10-27 14:10:19,068 - INFO - StreamableHTTP session manager shutting down
